<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

        <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <title>Introduction â€“ API Reference</title>

        <link rel="apple-touch-icon" sizes="180x180" href="./images/favicons/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="./images/favicons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="./images/favicons/favicon-16x16.png">
        <link rel="manifest" href="./images/favicons/site.webmanifest">
        <link rel="mask-icon" href="./images/favicons/safari-pinned-tab.svg" color="#5bbad5">
        <link rel="shortcut icon" href="./images/favicons/favicon.ico">
        <meta name="msapplication-TileColor" content="#623e98">
        <meta name="msapplication-config" content="./images/favicons/browserconfig.xml">
        <meta name="theme-color" content="#ffffff">

        <link href="./css/highlight.css" rel="stylesheet" media="screen">
        <link href="./css/screen.css" rel="stylesheet" media="screen">
        <link href="./css/print.css" rel="stylesheet" media="print">
        <script src="./js/all.js"></script>
    </head>

    <body class="index"
        data-languages="[&quot;javascript&quot;,&quot;python&quot;,&quot;php&quot;,&quot;ruby&quot;,&quot;java&quot;,&quot;csharp&quot;,&quot;go&quot;]"
        data-gr-c-s-loaded="true">
        <a href="/#" id="nav-button">
            <span>
                NAV
                <img src="./images/navbar.png" alt="Navbar">
            </span>
        </a>
        <div class="toc-wrapper">
            <img src="./images/logo.png" class="logo" alt="Logo">
            <div class="lang-selector">
                <a href="/#" data-language-name="javascript">javascript</a>
                <a href="/#" data-language-name="python" class="active">python</a>
                <a href="/#" data-language-name="php">php</a>
                <a href="/#" data-language-name="ruby">ruby</a>
                <a href="/#" data-language-name="java">java</a>
                <a href="/#" data-language-name="csharp">csharp</a>
                <a href="/#" data-language-name="go">go</a>
            </div>
            <div class="search">
                <input type="text" class="search" id="input-search" placeholder="Search">
            </div>
            <ul class="search-results"></ul>
            <ul id="toc" class="toc-list-h1">
                <li>
                    <a href="/#introduction" class="toc-h1 toc-link active"
                        data-title="Introduction">Introduction</a>
                    <ul class="toc-list-h2 active" style="display: block;">
                        <li>
                            <a href="/#getting-an-api-key" class="toc-h2 toc-link"
                                data-title="Getting an API Key">Getting an API Key</a>
                        </li>
                        <li>
                            <a href="/#authentication" class="toc-h2 toc-link"
                                data-title="Authentication">Authentication</a>
                        </li>
                        <li>
                            <a href="/#rate-limiting" class="toc-h2 toc-link"
                                data-title="Rate limiting">Rate limiting</a>
                        </li>
                        <li>
                            <a href="/#errors" class="toc-h2 toc-link"
                                data-title="Errors">Errors</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="/#convert" class="toc-h1 toc-link" data-title="Convert">Convert</a>
                    <ul class="toc-list-h2">
                        <li>
                            <a href="/#general" class="toc-h2 toc-link"
                                data-title="General">General</a>
                        </li>
                        <li>
                            <a href="/#use-cases" class="toc-h2 toc-link" data-title="Use cases">Use
                                cases</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="/#credits" class="toc-h1 toc-link" data-title="Credits">Credits</a>
                    <ul class="toc-list-h2">
                        <li>
                            <a href="/#credits-status" class="toc-h2 toc-link"
                                data-title="Credits status">Credits status</a>
                        </li>
                    </ul>
                </li>
                <li>
                    <a href="/#support" class="toc-h1 toc-link" data-title="Support">Support</a>
                </li>
            </ul>
            <ul class="toc-footer">
                <li><a href="https://pdfshift.io/register/">Create an account</a></li>
                <li><a href="mailto:support@pdfshift.io">support@pdfshift.io</a></li>
            </ul>
        </div>
        <div class="page-wrapper">
            <div class="dark-box"></div>
            <div class="content">
                <h1 id="introduction">Introduction</h1>
                <p>Welcome to the PDFShift API. This documentation contains all the details needed to use the API and how to
                    convert documents from HTML to PDF.</p>

                <p>You will find code samples in Shell, Javascript, Python and PHP.</p>
                <h2 id="getting-an-api-key">Getting an API Key</h2>
                <p>In order to generate PDF without the PDFShift's watermark, you will need an API Key.
                    You can request one by creating an account on <a href="https://pdfshift.io/register/">PDFShift's
                        website</a>.</p>

                <p>Once you have submitted the form, we will send you an email containing your API Key.
                    You can also create other API Key if you want, to split your keys accross your project.
                    This can be done via your <a href="https://pdfshift.io/account/dashboard/">Dashboard</a>.</p>

                <p>You can test and play with our API without an API Key. Simply don't provide a "Basic Auth" header and the
                    request will be done, with the difference that a watermark will be applied to the document.
                    Note that applying a watermark makes the generation slower, so you will have better result when using
                    your API Key.</p>
                <h2 id="authentication">Authentication</h2>
                <p>Authenticate your account by including your secret key in API requests. You can manage your API keys in
                    the <a href="https://pdfshift.io/account/dashboard/">Dashboard</a>.</p>

                <p>Authentication to the API is performed via <a
                        href="http://en.wikipedia.org/wiki/Basic_access_authentication">HTTP Basic Auth</a>.
                    Provide your API key as the basic auth username value. The password is ignored and can be set to
                    whatever you want (an empty string works fine).</p>

                <p><code>Authorization: Basic your_api_key:</code></p>
                <h2 id="rate-limiting">Rate limiting</h2>
                <p>Rate limiting is only forced for <strong>unauthenticated accounts</strong> with a limit of 2 requests per
                    minutes.</p>

                <p>As soon as you are authenticated, the restriction is lifted and you can convert as many documents as you
                    want.</p>

                <p>When reaching the rate limit, you will get an HTTP status code of <code>429</code>.</p>

                <p>Each request will contain three headers to let you know your usage:</p>
                <pre class="highlight plaintext"><code># HTTP response from PDFShift's API will contain these three headers:

    X-RateLimit-Remaining: 30
    X-RateLimit-Limit: 45
    X-RateLimit-Reset: 1466368960
    </code></pre>
                <table>
                    <thead>
                        <tr>
                            <th>Key</th>
                            <th>Explanation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>X-RateLimit-Remaining</strong></td>
                            <td>Indicates the number of requests before hitting the rate limit.</td>
                        </tr>
                        <tr>
                            <td><strong>X-RateLimit-Reset</strong></td>
                            <td>Indicates the number of requests you can make per minutes (always 45).</td>
                        </tr>
                        <tr>
                            <td><strong>X-RateLimit-Reset</strong></td>
                            <td>Indicates when the rate limit will reset.</td>
                        </tr>
                    </tbody>
                </table>
                <h2 id="errors">Errors</h2>
                <p>The PDFShift API uses the following error codes:</p>

                <table>
                    <thead>
                        <tr>
                            <th>Error Code</th>
                            <th>Meaning</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>400</td>
                            <td>Bad Request -- Your request is invalid. Often, it means a parameter was wrongly set.</td>
                        </tr>
                        <tr>
                            <td>401</td>
                            <td>Unauthorized -- No API key were found.</td>
                        </tr>
                        <tr>
                            <td>403</td>
                            <td>Forbidden -- The provided API key is invalid.</td>
                        </tr>
                        <tr>
                            <td>404</td>
                            <td>Not Found -- The page you tried to reach was not found.</td>
                        </tr>
                        <tr>
                            <td>405</td>
                            <td>Method Not Allowed -- The endpoint you tried to reach is not available with this HTTP
                                method.</td>
                        </tr>
                        <tr>
                            <td>408</td>
                            <td>A timeout error occured when trying to convert a document.</td>
                        </tr>
                        <tr>
                            <td>429</td>
                            <td>Too Many Requests -- You sent too many request. Please see the <a
                                    href="/#rate-limiting">Rate limiting</a> section for more
                                details.</td>
                        </tr>
                        <tr>
                            <td>500</td>
                            <td>Internal Server Error -- We had a problem with our server. Try again later.</td>
                        </tr>
                    </tbody>
                </table>
                <h1 id="convert">Convert</h1>
                <h2 id="general">General</h2>
                <p>This is the main endpoint of the PDFShift's API.
                    The main idea is to pass a source document in HTML (either raw HTML or an URL) and get a PDF in return.
                </p>

                <p>Many parameters are available to let you customize the resulting PDF to your needs.</p>
                <h3 id="http-request">HTTP Request</h3>
                <p><code>POST https://api.pdfshift.io/v2/convert</code></p>
                <h3 id="parameters">Parameters</h3>
                <p>Provide the parameters as a JSON object.</p>

                <table>
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>source</td>
                            <td>String or URL</td>
                            <td><strong>required</strong></td>
                            <td>Original document to convert to PDF. PDFShift will automatically detect if it's an URL and
                                load it, or an HTML document and charge it.<br>You can also send an array of documents to
                                convert if parallel conversions is enabled on your account. In that case, you will also need
                                to provide the <code>webhook</code> parameters as this operation is asynchronous.</td>
                        </tr>
                        <tr>
                            <td>sandbox</td>
                            <td>Boolean</td>
                            <td>false</td>
                            <td>Will generates documents that doesn't count in the credits. The generated document will come
                                with a watermark.</td>
                        </tr>
                        <tr>
                            <td>encode</td>
                            <td>Boolean</td>
                            <td>false</td>
                            <td>Will return the generated PDF in Base64 encoded format, instead of raw.</td>
                        </tr>
                        <tr>
                            <td>timeout</td>
                            <td>Integer</td>
                            <td>null</td>
                            <td>If provided, will kill the page loading at a specified time without stopping with a
                                TimeoutError. Value in seconds</td>
                        </tr>
                        <tr>
                            <td>wait_for</td>
                            <td>String</td>
                            <td>null</td>
                            <td>Name of a function available globally. When present, PDFShift will wait for this function to
                                return a truthy value (true, 1, a string, etc) or up to 30 seconds, then proceed to the
                                conversion.</td>
                        </tr>
                        <tr>
                            <td>landscape</td>
                            <td>Boolean</td>
                            <td>false</td>
                            <td>Will set the view in landscape mode instead of portrait</td>
                        </tr>
                        <tr>
                            <td>css</td>
                            <td>String or URL</td>
                            <td>null</td>
                            <td>Will append this CSS styles to the document before saving it. Can be an URL or a String of
                                CSS rules.</td>
                        </tr>
                        <tr>
                            <td>javascript</td>
                            <td>String or URL</td>
                            <td>null</td>
                            <td>Will execute the given Javascript before saving the document. Can be an URL or a String of
                                JS code.</td>
                        </tr>
                        <tr>
                            <td>disable_images</td>
                            <td>Boolean</td>
                            <td>false</td>
                            <td>Images will not be included in the final document.</td>
                        </tr>
                        <tr>
                            <td>disable_javascript</td>
                            <td>Boolean</td>
                            <td>false</td>
                            <td>Will not execute the javascript at all in the document</td>
                        </tr>
                        <tr>
                            <td>disable_links</td>
                            <td>Boolean</td>
                            <td>false</td>
                            <td>The link in the document will not point anywhere.</td>
                        </tr>
                        <tr>
                            <td>disable_backgrounds</td>
                            <td>Boolean</td>
                            <td>false</td>
                            <td>The final document will not have the background images.</td>
                        </tr>
                        <tr>
                            <td>remove_blank</td>
                            <td>Boolean</td>
                            <td>false</td>
                            <td>Remove the last page if it is considered empty..</td>
                        </tr>
                        <tr>
                            <td>delay</td>
                            <td>Integer</td>
                            <td>0</td>
                            <td>In milliseconds. Will wait for this duration before capturing the document. Up to 10 seconds
                                max.</td>
                        </tr>
                        <tr>
                            <td>use_print</td>
                            <td>Boolean</td>
                            <td>false</td>
                            <td>Use the print stylesheet instead of the general one.</td>
                        </tr>
                        <tr>
                            <td>format</td>
                            <td>String</td>
                            <td>A4</td>
                            <td>Format of the document. You can either use the standard values (Letter, Legal, Tabloid,
                                Ledger, A0, A1, A2, A3, A4, A5) or a custom <code>{width}x{height}</code> value. For {width}
                                and {height}, you can indicate the following units: in, cm, mm.</td>
                        </tr>
                        <tr>
                            <td>pages</td>
                            <td>String</td>
                            <td>null</td>
                            <td>Pages to print. Can be one number (<code>3</code>), a range (<code>1-5</code>), a list (<code>4,5,6</code>) or a combination of both (<code>1-3,6,7</code>). If the number is higher than the real number of pages, that number will be ignored.</td>
                        </tr>
                        <tr>
                            <td>zoom</td>
                            <td>Float</td>
                            <td>1</td>
                            <td>A value between 0 and 2. Allows you to increase the zoom in the document for specific
                                purposes. 1 is the default zoom, lower is smaller, higher is bigger.</td>
                        </tr>
                        <tr>
                            <td>webhook</td>
                            <td>String (URL)</td>
                            <td>null</td>
                            <td>An URL where we will send a POST request containing a JSON body similar to when you use the
                                <code>filename</code> parameter. The JSON response will contain a <code>URL</code> key that
                                points to your file, stored on Amazon S3.</td>
                        </tr>
                        <tr>
                            <td>margin</td>
                            <td>String or Object</td>
                            <td>null</td>
                            <td>Empty spaces between the outer and the beginning of the content</td>
                        </tr>
                        <tr>
                            <td>auth</td>
                            <td>Object</td>
                            <td>null</td>
                            <td>Object containing <code>username</code> and <code>password</code> for accessing
                                password-protected content.</td>
                        </tr>
                        <tr>
                            <td>cookies</td>
                            <td>Array</td>
                            <td>null</td>
                            <td>List of cookies you want to send along with the requests when loading the source. See the
                                related part at the bottom of the document</td>
                        </tr>
                        <tr>
                            <td>http_headers</td>
                            <td>Object</td>
                            <td>null</td>
                            <td>List of http headers that you can customize for a better end result.</td>
                        </tr>
                        <tr>
                            <td>header</td>
                            <td>Object</td>
                            <td>null</td>
                            <td>Defines a custom header. See the "Header/Footer" section for more details.</td>
                        </tr>
                        <tr>
                            <td>footer</td>
                            <td>Object</td>
                            <td>null</td>
                            <td>Same as header.</td>
                        </tr>
                        <tr>
                            <td>protection</td>
                            <td>Object</td>
                            <td>null</td>
                            <td>Will add restrictions on the PDF document. See the #Protection part for more details</td>
                        </tr>
                        <tr>
                            <td>watermark</td>
                            <td>Object</td>
                            <td>null</td>
                            <td>Add a watermark to the generated document. See the #Watermark part for more details.</td>
                        </tr>
                    </tbody>
                </table>
                <h3 id="cookies">Cookies</h3>
                <p>List of accepted parameters for the Cookie object.</p>

                <table>
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>name</td>
                            <td>String</td>
                            <td><strong>required</strong></td>
                            <td>Name of the cookie</td>
                        </tr>
                        <tr>
                            <td>value</td>
                            <td>String</td>
                            <td>** required **</td>
                            <td>Value for the specified cookie</td>
                        </tr>
                        <tr>
                            <td>secure</td>
                            <td>Boolean</td>
                            <td>false</td>
                            <td>If set to true, This cookie will only be available for secure (https) connections.</td>
                        </tr>
                        <tr>
                            <td>http_only</td>
                            <td>Boolean</td>
                            <td>false</td>
                            <td>If set to true, this cookie will only be available to HTTP request only (no javascript).
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h3 id="margin">Margin</h3>
                <p>You can define margin for the document (space between the limits of the document and the beginning of the
                    content).
                    You can either pass an object as defined below, or use a CSS like string, like the following:</p>

                <ul>
                    <li><strong><code>10px</code></strong>: Will set a margin of 10px for all four borders.</li>
                    <li><strong><code>10px 0</code></strong>: Will set a margin of 10px for top and bottom, and a margin of
                        0 for left and right.</li>
                    <li><strong><code>10px 0 20px</code></strong>: Will set a margin of 10px for top, 0 for left and right
                        and 20px for the bottom.</li>
                    <li><strong><code>10px 20px 30px 40px</code></strong>: Will set a margin of 10px for top, 20px for
                        right, 30px for bottom and 40px for left.</li>
                </ul>

                <p>Otherwise, you can use an object to directly target a specific margin, using the following:</p>

                <table>
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>top</td>
                            <td>Integer or String</td>
                            <td>null</td>
                            <td>Space between the top and the content.</td>
                        </tr>
                        <tr>
                            <td>right</td>
                            <td>Integer or String</td>
                            <td>null</td>
                            <td>Space between the right and the content.</td>
                        </tr>
                        <tr>
                            <td>bottom</td>
                            <td>Integer or String</td>
                            <td>null</td>
                            <td>Space between the bottom and the content.</td>
                        </tr>
                        <tr>
                            <td>left</td>
                            <td>Integer or String</td>
                            <td>null</td>
                            <td>Space between the left and the content.</td>
                        </tr>
                    </tbody>
                </table>
                <h3 id="header-footer">Header/Footer</h3>
                <p>You can configure the aspect of your header and footer document using the following values.</p>

                <aside class="notice">
                    The footer and header are <strong>independant</strong> from the rest of the document.<br>
                    <br>
                    As such, the CSS style defined in your body won't apply on your header/footer.<br>
                    To style your header/footer, you need to set a specific style either using &lt;style&gt; tag first, or
                    adding <code>style=""</code> on your DOM elements.
                </aside>

                <table>
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>source</td>
                            <td>String or URL</td>
                            <td>null</td>
                            <td>Element to add in the header/footer part of the document. You can use variables, indicated
                                at the end of the document. PDFShift will automatically detect if it's an URL and load it,
                                or an HTML data and charge it.</td>
                        </tr>
                        <tr>
                            <td>spacing</td>
                            <td>Integer or String</td>
                            <td>null</td>
                            <td>A spacing between the header or footer and the content. For header, it's the space between
                                the header and the beginning of the document. For the footer, it's the space between the end
                                of the document and the bottom of the page.</td>
                        </tr>
                        <tr>
                            <td>start_at</td>
                            <td>Integer</td>
                            <td>1</td>
                            <td>
                                Display the header/footer starting at the given page. The number is 1-based.<br />
                                <strong>IMPORTANT:</strong> You can not set different <code>start_at</code> value for the header and footer if they are higher than 1. For instance <code>header.start_at = 1</code> and <code>footer.start_at = 2</code> is possible,
                                but <code>header.start_at = 2</code> and <code>footer.start_at = 3</code> is <strong>not supported</strong>.
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h4 id="header-footer-variables">Header/Footer variables</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Variable</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>{{date}}</strong></td>
                            <td>Formatted print date</td>
                        </tr>
                        <tr>
                            <td><strong>{{title}}</strong></td>
                            <td>Title of the HTML document</td>
                        </tr>
                        <tr>
                            <td><strong>{{url}}</strong></td>
                            <td>Page URL</td>
                        </tr>
                        <tr>
                            <td><strong>{{page}}</strong></td>
                            <td>Current page</td>
                        </tr>
                        <tr>
                            <td><strong>{{total}}</strong></td>
                            <td>Total number of pages</td>
                        </tr>
                    </tbody>
                </table>
                <h3 id="protection">Protection</h3>
                <p>You can restrict access to your generated document using the following rules. The encryption is made in
                    128bits.</p>

                <aside class="warning">
                    Some PDF Reader don't make the distinction between <strong>user</strong> and <strong>owner</strong> in a
                    PDF Document.
                    This means that when the user password has been entered, some PDF reader ignore the restrictions (no
                    print, no copy, etc).<br>
                    <br>
                    So, setting a blank password for the user is similar to no security.
                </aside>

                <table>
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>author</td>
                            <td>String</td>
                            <td>null</td>
                            <td>Document's author name</td>
                        </tr>
                        <tr>
                            <td>user_password</td>
                            <td>String</td>
                            <td>null</td>
                            <td>A user who has the password will be able to view the document and perform operations allowed
                                by the permission options</td>
                        </tr>
                        <tr>
                            <td>owner_password</td>
                            <td>String</td>
                            <td>null</td>
                            <td>A user who has the password will have unlimited access to the PDF, including changing the
                                passwords and permission options.</td>
                        </tr>
                        <tr>
                            <td>no_print</td>
                            <td>Boolean</td>
                            <td>false</td>
                            <td>When set to true, printing will be disabled.</td>
                        </tr>
                        <tr>
                            <td>no_copy</td>
                            <td>Boolean</td>
                            <td>false</td>
                            <td>When set to true, the possibility to copy any text will be disabled.</td>
                        </tr>
                        <tr>
                            <td>no_modify</td>
                            <td>Boolean</td>
                            <td>false</td>
                            <td>When set to true, the possibility to modify the document will be disabled.</td>
                        </tr>
                    </tbody>
                </table>
                <h3 id="watermark">Watermark</h3>
                <p>You can add a watermark to your documents via three alternatives:</p>

                <ul>
                    <li>Via a PDF</li>
                    <li>Via Text</li>
                    <li>Via Image</li>
                </ul>

                <p>Each alternatives has a set of options, which is detailed here:</p>
                <h4 id="via-pdf">Via PDF</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>source</td>
                            <td>URL or Base64 encoded PDF content</td>
                            <td><strong>required</strong></td>
                            <td>You can provide the source either as an URL, or a <strong>base 64 encoded</strong> PDF
                                content. Raw PDF content will be refused. We recommend you to send a one page PDF content
                                because only the first page is used on each of your generated content.</td>
                        </tr>
                    </tbody>
                </table>
                <h4 id="via-text">Via Text</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>text</td>
                            <td>String</td>
                            <td><strong>required</strong></td>
                            <td>The text to display as watermark.</td>
                        </tr>
                        <tr>
                            <td>font_size</td>
                            <td>Integer</td>
                            <td>16</td>
                            <td>The font size used.</td>
                        </tr>
                        <tr>
                            <td>font_family</td>
                            <td>String</td>
                            <td>Helvetica</td>
                            <td>The font family used.</td>
                        </tr>
                        <tr>
                            <td>font_color</td>
                            <td>String</td>
                            <td>000000</td>
                            <td>The color of the text.</td>
                        </tr>
                        <tr>
                            <td>font_opacity</td>
                            <td>Integer</td>
                            <td>100</td>
                            <td>The opacity for the text.</td>
                        </tr>
                        <tr>
                            <td>font_bold</td>
                            <td>Boolean</td>
                            <td>false</td>
                            <td>Set to true if you want the text bold.</td>
                        </tr>
                        <tr>
                            <td>font_italic</td>
                            <td>Boolean</td>
                            <td>false</td>
                            <td>Set to true if you want the text in italic.</td>
                        </tr>
                        <tr>
                            <td>offset_x</td>
                            <td>String</td>
                            <td>center</td>
                            <td>The X position. Can be either a String (left, center, right) or a number with unit (defaults
                                to pixels. Allowed units are 'px', 'in', 'cm', 'mm', 'pt').</td>
                        </tr>
                        <tr>
                            <td>offset_y</td>
                            <td>String</td>
                            <td>middle</td>
                            <td>The Y position. Can be either a string (top, middle, bottom) or a number with unit (defaults
                                to pixels. Allowed units are 'px', 'in', 'cm', 'mm', 'pt').</td>
                        </tr>
                        <tr>
                            <td>rotate</td>
                            <td>Integer</td>
                            <td>-45</td>
                            <td>The degree for the rotated element.</td>
                        </tr>
                    </tbody>
                </table>
                <h4 id="via-image">Via Image</h4>
                <table>
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Type</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>image</td>
                            <td>URL or Base64 encoded image content</td>
                            <td><strong>required</strong></td>
                            <td>The image to display as watermark.</td>
                        </tr>
                        <tr>
                            <td>offset_x</td>
                            <td>String</td>
                            <td>center</td>
                            <td>The X position. Can be either a String (left, center, right) or a number with unit (defaults
                                to pixels. Allowed units are 'px', 'in', 'cm', 'mm', 'pt').</td>
                        </tr>
                        <tr>
                            <td>offset_y</td>
                            <td>String</td>
                            <td>middle</td>
                            <td>The Y position. Can be either a string (top, middle, bottom) or a number with unit (defaults
                                to pixels. Allowed units are 'px', 'in', 'cm', 'mm', 'pt').</td>
                        </tr>
                        <tr>
                            <td>rotate</td>
                            <td>Integer</td>
                            <td>-45</td>
                            <td>The degree for the rotated element.</td>
                        </tr>
                    </tbody>
                </table>
                <h3 id="misc">Misc</h3>
                <p>When converting a document, if successful, the HTTP response from PDFShift's API will contain the
                    following header:</p>

                <table>
                    <thead>
                        <tr>
                            <th>Header</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>X-Response-StatusCode</td>
                            <td>The status code from your URL source, when an URL is provided. This can be useful to ensure
                                the URL worked correctly.</td>
                        </tr>
                    </tbody>
                </table>
                <h3 id="webhooks">Webhooks</h3>
                <aside class="warning">
                    When the conversion fail, we also do a `POST` request to your endpoint, but with an `error` key
                    instead.<br>
                    We recommend you to first check if the body contains the `error` before processing the document, and act
                    accordingly.
                </aside>

                <p>If the <code>webhook</code> parameter is defined, the call to PDFShift's API will return a Queued
                    response along with a 202 status code, like the following:</p>

                <p><code>{"queued": true}</code></p>

                <p>Once the processing has been done, we will send a <code>POST</code> request to your webhook endpoint,
                    containing a JSON payload with the URL to your converted document, stored at Amazon S3 (for two days).
                </p>

                <p>Here's a sample of the payload we will send you:</p>
                <pre class="highlight plaintext"><code>{
        "duration": 3121.766417985782,
        "filesize": 259972,
        "response": {
            "duration": 2562,
            "status-code": 200
        },
        "success": true,
        "url": "https://s3.amazonaws.com/pdfshift/d/2/2019-05/99c456250a01448686d81752a3fb5beb/15466098-8368-49e1-ac33-ff4c3941a0df.pdf"
    }
    </code></pre>
                <p><br><br><br><br><br><br><br><br><br><br><br><br><br></p>

                <p>In case there is any error while processing your document, we will instead send you a payload containing
                    an <code>error</code> key, like the following:</p>
                <pre class="highlight plaintext"><code>{
        "error": {
            "code": 400,
            "error": "The requested page took too long to load.",
            "identifier": "A74",
            "success": false
        }
    }
    </code></pre>
                <h2 id="use-cases">Use cases</h2>
                <h3 id="converting-an-url">Converting an URL</h3>
                <pre class="highlight javascript tab-javascript" style="display: none;"><code><span class="kr">const</span> <span class="nx">pdfshift</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'pdfshift'</span><span class="p">)(</span><span class="s1">'your_api_key'</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">);</span>

    <span class="nx">pdfshift</span><span class="p">.</span><span class="nx">convert</span><span class="p">(</span><span class="s1">'https://www.example.com'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">binary_file</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">(</span><span class="s1">'result.pdf'</span><span class="p">,</span> <span class="nx">binary_file</span><span class="p">,</span> <span class="s2">"binary"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{})</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">({</span><span class="nx">message</span><span class="p">,</span> <span class="nx">code</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">errors</span> <span class="o">=</span> <span class="kc">null</span><span class="p">})</span> <span class="p">{})</span>
    </code></pre>
                <pre class="highlight php tab-php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="c1">// Using the function at 
    // https://gist.github.com/cnicodeme/f2c73d89ac49313d023d738b5cdb7046
    </span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nx">pdfshift</span><span class="p">(</span><span class="s1">'your_api_key_here'</span><span class="p">,</span> <span class="k">array</span> <span class="p">(</span>
        <span class="s1">'source'</span> <span class="o">=&gt;</span> <span class="s1">'https://www.example.com'</span>
    <span class="p">));</span>

    <span class="nb">file_put_contents</span><span class="p">(</span><span class="s1">'result.pdf'</span><span class="p">,</span> <span class="nv">$response</span><span class="p">);</span>
    </code></pre>
                <pre class="highlight python tab-python" style=""><code><span class="kn">import</span> <span class="nn">requests</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="s">'https://api.pdfshift.io/v2/convert'</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s">'your_api_key_here'</span><span class="p">,</span> <span class="s">''</span><span class="p">),</span>
        <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s">'source'</span><span class="p">:</span> <span class="s">'https://www.example.com'</span><span class="p">},</span>
        <span class="n">stream</span><span class="o">=</span><span class="bp">True</span>
    <span class="p">)</span>

    <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'result.pdf'</span><span class="p">,</span> <span class="s">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">chunck</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">iter_content</span><span class="p">(</span><span class="n">chunck_size</span><span class="o">=</span><span class="mi">1024</span><span class="p">):</span>
            <span class="n">output</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunck</span><span class="p">)</span>
    </code></pre>
                <pre class="highlight ruby tab-ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'uri'</span>
    <span class="nb">require</span> <span class="s1">'net/https'</span>
    <span class="nb">require</span> <span class="s1">'json'</span> <span class="c1"># for hash to_json conversion</span>

    <span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.pdfshift.io/v2/convert/"</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"source"</span> <span class="o">=&gt;</span> <span class="s2">"https://www.example.com"</span><span class="p">}</span>

    <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">start</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">,</span> <span class="ss">:use_ssl</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
        <span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">request_uri</span><span class="p">)</span>
        <span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">to_json</span>
        <span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"application/json"</span>
        <span class="n">request</span><span class="p">.</span><span class="nf">basic_auth</span> <span class="s1">'your_api_key'</span><span class="p">,</span> <span class="s1">''</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">code</span> <span class="o">==</span> <span class="s1">'200'</span>
            <span class="c1"># Since Ruby 1.9.1 only:</span>
            <span class="no">File</span><span class="p">.</span><span class="nf">binwrite</span><span class="p">(</span><span class="s2">"result.pdf"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)</span>
        <span class="k">else</span>
            <span class="c1"># Handle other codes here</span>
            <span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">code</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="si">}</span><span class="s2">"</span>
        <span class="k">end</span>
    <span class="k">end</span>
    </code></pre>
                <pre class="highlight java tab-java" style="display: none;"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">...</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">var</span> <span class="n">jsonObject</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">jsonObject</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"source"</span><span class="o">,</span> <span class="s">"https://example.com"</span><span class="o">);</span>
        <span class="n">var</span> <span class="n">httpRequest</span> <span class="o">=</span> <span class="n">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="n">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="o">))</span>
                <span class="o">.</span><span class="na">timeout</span><span class="o">(</span><span class="n">Duration</span><span class="o">.</span><span class="na">ofSeconds</span><span class="o">(</span><span class="mi">20</span><span class="o">))</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authentication"</span><span class="o">,</span> <span class="s">"Basic "</span> <span class="o">+</span> <span class="s">"your_api_key"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="n">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">jsonObject</span><span class="o">.</span><span class="na">toString</span><span class="o">()))</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>

        <span class="n">var</span> <span class="n">httpClient</span> <span class="o">=</span> <span class="n">HttpClient</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">version</span><span class="o">(</span><span class="n">HttpClient</span><span class="o">.</span><span class="na">Version</span><span class="o">.</span><span class="na">HTTP_1_1</span><span class="o">)</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>

        <span class="n">var</span> <span class="n">response</span> <span class="o">=</span> <span class="n">httpClient</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">httpRequest</span><span class="o">,</span> <span class="n">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofInputStream</span><span class="o">());</span>

        <span class="n">var</span> <span class="n">statusCode</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">statusCode</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">statusCode</span> <span class="o">==</span> <span class="mi">200</span> <span class="o">||</span> <span class="n">statusCode</span> <span class="o">==</span> <span class="mi">201</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// Save the file locally</span>
            <span class="n">var</span> <span class="n">targetFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"src/main/resources/targetFile.pdf"</span><span class="o">);</span>
            <span class="n">Files</span><span class="o">.</span><span class="na">copy</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">(),</span> <span class="n">targetFile</span><span class="o">.</span><span class="na">toPath</span><span class="o">(),</span> <span class="n">StandardCopyOption</span><span class="o">.</span><span class="na">REPLACE_EXISTING</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="c1">// error occurred</span>
        <span class="o">}</span>
    <span class="o">}</span>
    </code></pre>
                <pre class="highlight csharp tab-csharp" style="display: none;"><code><span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">IRestClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="p">);</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Authenticator</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">HttpBasicAuthenticator</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>

        <span class="n">IRestRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>

        <span class="kt">var</span> <span class="n">json</span> <span class="p">=</span> <span class="k">new</span>
        <span class="p">{</span>
            <span class="n">source</span> <span class="p">=</span> <span class="s">"https://www.example.com"</span>
        <span class="p">};</span>
        <span class="n">request</span><span class="p">.</span><span class="nf">AddJsonBody</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>

        <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">response</span><span class="p">.</span><span class="n">IsSuccessful</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Check why status is not int 2xx.</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="n">File</span><span class="p">.</span><span class="nf">WriteAllBytes</span><span class="p">(</span><span class="s">"result.pdf"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">RawBytes</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    </code></pre>
                <pre class="highlight go tab-go" style="display: none;"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

    </span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
        </span><span class="s">"bytes"</span><span class="x">
        </span><span class="s">"encoding/json"</span><span class="x">
        </span><span class="s">"io/ioutil"</span><span class="x">
        </span><span class="s">"log"</span><span class="x">
        </span><span class="s">"net/http"</span><span class="x">
    </span><span class="p">)</span><span class="x">

    </span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">API_KEY</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"your_api_key"</span><span class="x">

        </span><span class="n">message</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
            </span><span class="s">"source"</span><span class="o">:</span><span class="x">  </span><span class="s">"https://example.com"</span><span class="p">,</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="n">bytesRepresentation</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">json</span><span class="o">.</span><span class="n">Marshal</span><span class="p">(</span><span class="n">message</span><span class="p">)</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
        </span><span class="n">request</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="p">,</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">bytesRepresentation</span><span class="p">))</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">
        </span><span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/json"</span><span class="p">)</span><span class="x">
        </span><span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Basic "</span><span class="x"> </span><span class="o">+</span><span class="x"> </span><span class="n">API_KEY</span><span class="p">)</span><span class="x">

        </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="k">if</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="x"> </span><span class="o">&gt;=</span><span class="x"> </span><span class="m">200</span><span class="x"> </span><span class="o">&amp;&amp;</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="x"> </span><span class="o">&lt;</span><span class="x"> </span><span class="m">300</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">body</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">
            </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
                </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
            </span><span class="p">}</span><span class="x">
            </span><span class="c">// write the response to file</span><span class="x">
            </span><span class="n">ioutil</span><span class="o">.</span><span class="n">WriteFile</span><span class="p">(</span><span class="s">"example.pdf"</span><span class="p">,</span><span class="x"> </span><span class="n">body</span><span class="p">,</span><span class="x"> </span><span class="m">0644</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x"> </span><span class="k">else</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="c">// An error occurred</span><span class="x">
            </span><span class="k">var</span><span class="x"> </span><span class="n">result</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span><span class="x">

            </span><span class="n">json</span><span class="o">.</span><span class="n">NewDecoder</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="x">

            </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s">"data"</span><span class="p">])</span><span class="x">
        </span><span class="p">}</span><span class="x">
    </span><span class="p">}</span><span class="x">
    </span></code></pre>
                <blockquote>
                    <p>The above command returns a PDF in binary format.</p>
                </blockquote>

                <p>This endpoint the given URL to PDF.</p>
                <h3 id="saving-the-document-to-amazon-s3">Saving the document to Amazon S3</h3>
                <pre class="highlight javascript tab-javascript" style="display: none;"><code><span class="kr">const</span> <span class="nx">pdfshift</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'pdfshift'</span><span class="p">)(</span><span class="s1">'your_api_key'</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">);</span>

    <span class="nx">pdfshift</span><span class="p">.</span><span class="nx">convert</span><span class="p">(</span><span class="s1">'https://www.example.com'</span><span class="p">,</span> <span class="p">{</span><span class="na">filename</span><span class="p">:</span> <span class="s1">'result.pdf'</span><span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">body</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">json</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">body</span><span class="p">);</span>
        <span class="c1">// The URL is on </span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">json</span><span class="p">.</span><span class="nx">url</span><span class="p">);</span>
    <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">({</span><span class="nx">message</span><span class="p">,</span> <span class="nx">code</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">errors</span> <span class="o">=</span> <span class="kc">null</span><span class="p">})</span> <span class="p">{})</span>
    </code></pre>
                <pre class="highlight php tab-php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nx">pdfshift</span><span class="p">(</span><span class="s1">'your_api_key_here'</span><span class="p">,</span> <span class="k">array</span> <span class="p">(</span>
        <span class="s1">'source'</span> <span class="o">=&gt;</span> <span class="s1">'https://www.example.com'</span><span class="p">,</span>
        <span class="s1">'filename'</span> <span class="o">=&gt;</span> <span class="s1">'result.pdf'</span>
    <span class="p">));</span>

    <span class="nv">$json</span> <span class="o">=</span> <span class="nb">json_decode</span><span class="p">(</span><span class="nv">$response</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
    <span class="c1">// The URL is at $json['url'];
    </span></code></pre>
                <pre class="highlight python tab-python" style=""><code><span class="kn">import</span> <span class="nn">requests</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="s">'https://api.pdfshift.io/v2/convert'</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s">'your_api_key_here'</span><span class="p">,</span> <span class="s">''</span><span class="p">),</span>
        <span class="n">json</span><span class="o">=</span><span class="p">{</span>
            <span class="s">'source'</span><span class="p">:</span> <span class="s">'https://www.example.com'</span><span class="p">,</span>
            <span class="s">'filename'</span><span class="p">:</span> <span class="s">'result.pdf'</span>
        <span class="p">}</span>
    <span class="p">)</span>

    <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

    <span class="n">json_response</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
    <span class="c"># The URL to the document is at json_response['url]</span>
    </code></pre>
                <pre class="highlight ruby tab-ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'uri'</span>
    <span class="nb">require</span> <span class="s1">'net/https'</span>
    <span class="nb">require</span> <span class="s1">'json'</span> <span class="c1"># for hash to_json conversion</span>

    <span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.pdfshift.io/v2/convert/"</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">"source"</span> <span class="o">=&gt;</span> <span class="s1">'http://www.example.com'</span><span class="p">,</span>
        <span class="s2">"filename"</span> <span class="o">=&gt;</span> <span class="s2">"result.pdf"</span> <span class="p">}</span>

    <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">start</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">,</span> <span class="ss">:use_ssl</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
        <span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">request_uri</span><span class="p">)</span>
        <span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">to_json</span>
        <span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"application/json"</span>
        <span class="n">request</span><span class="p">.</span><span class="nf">basic_auth</span> <span class="s1">'your_api_key'</span><span class="p">,</span> <span class="s1">''</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">code</span> <span class="o">==</span> <span class="s1">'200'</span>
            <span class="nb">puts</span> <span class="n">response</span><span class="p">.</span><span class="nf">body</span>
            <span class="c1"># { "duration":1309,</span>
            <span class="c1"># "filesize":37511,</span>
            <span class="c1"># "success":true,</span>
            <span class="c1"># "url":"&lt;amazon_s3_url&gt;/result.pdf"}</span>
            <span class="n">data</span> <span class="o">=</span> <span class="no">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)</span>
            <span class="n">redirect_to</span> <span class="n">data</span><span class="p">[</span><span class="s1">'url'</span><span class="p">]</span>
        <span class="k">else</span>
            <span class="c1"># Handle other codes here</span>
            <span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">code</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="si">}</span><span class="s2">"</span>
        <span class="k">end</span>
    <span class="k">end</span>
    </code></pre>
                <pre class="highlight java tab-java" style="display: none;"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">...</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">JSONObject</span> <span class="n">jsonObject</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">jsonObject</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"source"</span><span class="o">,</span> <span class="s">"https://example.com"</span><span class="o">);</span>
        <span class="n">jsonObject</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"filename"</span><span class="o">,</span> <span class="s">"result.pdf"</span><span class="o">);</span>

        <span class="n">var</span> <span class="n">httpRequest</span> <span class="o">=</span> <span class="n">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="n">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="o">))</span>
                <span class="o">.</span><span class="na">timeout</span><span class="o">(</span><span class="n">Duration</span><span class="o">.</span><span class="na">ofSeconds</span><span class="o">(</span><span class="mi">20</span><span class="o">))</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authentication"</span><span class="o">,</span> <span class="s">"Basic "</span> <span class="o">+</span> <span class="s">"your_api_key"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="n">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofFile</span><span class="o">(</span><span class="n">Paths</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"src/main/resources/body.json"</span><span class="o">)))</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>

        <span class="n">var</span> <span class="n">httpClient</span> <span class="o">=</span> <span class="n">HttpClient</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">version</span><span class="o">(</span><span class="n">HttpClient</span><span class="o">.</span><span class="na">Version</span><span class="o">.</span><span class="na">HTTP_1_1</span><span class="o">)</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>

        <span class="n">var</span> <span class="n">response</span> <span class="o">=</span> <span class="n">httpClient</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">httpRequest</span><span class="o">,</span> <span class="n">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofString</span><span class="o">());</span>

        <span class="n">var</span> <span class="n">statusCode</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">statusCode</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">statusCode</span> <span class="o">==</span> <span class="mi">200</span> <span class="o">||</span> <span class="n">statusCode</span> <span class="o">==</span> <span class="mi">201</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// Response body is a json string. </span>
            <span class="n">var</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">());</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">result</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"url"</span><span class="o">));</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="c1">// error occurred</span>
        <span class="o">}</span>
    <span class="o">}</span>
    </code></pre>
                <pre class="highlight csharp tab-csharp" style="display: none;"><code><span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">IRestClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="p">);</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Authenticator</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">HttpBasicAuthenticator</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>

        <span class="n">IRestRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>

        <span class="kt">var</span> <span class="n">json</span> <span class="p">=</span> <span class="k">new</span>
        <span class="p">{</span>
            <span class="n">source</span> <span class="p">=</span> <span class="s">"https://www.example.com"</span><span class="p">,</span>
            <span class="n">filename</span> <span class="p">=</span> <span class="s">"result.pdf"</span>
        <span class="p">};</span>
        <span class="n">request</span><span class="p">.</span><span class="nf">AddJsonBody</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>

        <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">response</span><span class="p">.</span><span class="n">IsSuccessful</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Check why status is not int 2xx.</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="kt">var</span> <span class="n">jObject</span> <span class="p">=</span> <span class="n">JObject</span><span class="p">.</span><span class="nf">Parse</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
            <span class="n">Console</span><span class="p">.</span><span class="nf">WriteLine</span><span class="p">(</span><span class="n">jObject</span><span class="p">[</span><span class="s">"url"</span><span class="p">].</span><span class="n">Value</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;());</span>
        <span class="p">}</span>
    <span class="p">}</span>
    </code></pre>
                <pre class="highlight go tab-go" style="display: none;"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

    </span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
        </span><span class="s">"net/http"</span><span class="x">
        </span><span class="s">"log"</span><span class="x">
        </span><span class="s">"encoding/json"</span><span class="x">
        </span><span class="s">"bytes"</span><span class="x">

    </span><span class="p">)</span><span class="x">

    </span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">API_KEY</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"your_api_key"</span><span class="x">

        </span><span class="n">message</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
            </span><span class="s">"source"</span><span class="o">:</span><span class="x"> </span><span class="s">"https://example.com"</span><span class="p">,</span><span class="x">
            </span><span class="s">"filename"</span><span class="o">:</span><span class="x"> </span><span class="s">"anotherExample.pdf"</span><span class="p">,</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="n">bytesRepresentation</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">json</span><span class="o">.</span><span class="n">Marshal</span><span class="p">(</span><span class="n">message</span><span class="p">)</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
        </span><span class="n">request</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="p">,</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">bytesRepresentation</span><span class="p">))</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">
        </span><span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/json"</span><span class="p">)</span><span class="x">
        </span><span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Basic "</span><span class="x"> </span><span class="o">+</span><span class="x"> </span><span class="n">API_KEY</span><span class="p">)</span><span class="x">

        </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="k">if</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="x"> </span><span class="o">&gt;=</span><span class="x"> </span><span class="m">200</span><span class="x"> </span><span class="o">&amp;&amp;</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="x"> </span><span class="o">&lt;</span><span class="x"> </span><span class="m">300</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="k">var</span><span class="x"> </span><span class="n">result</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span><span class="x">

            </span><span class="n">json</span><span class="o">.</span><span class="n">NewDecoder</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="x">

            </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s">"url"</span><span class="p">])</span><span class="x">
        </span><span class="p">}</span><span class="x"> </span><span class="k">else</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="c">// An error occurred</span><span class="x">
            </span><span class="k">var</span><span class="x"> </span><span class="n">result</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span><span class="x">

            </span><span class="n">json</span><span class="o">.</span><span class="n">NewDecoder</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="x">

            </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">
    </span><span class="p">}</span><span class="x">
    </span></code></pre>
                <blockquote>
                    <p>The above command returns JSON structured like this:</p>
                </blockquote>
                <pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://s3.amazonaws.com/pdfshift/d/2/2019-02/47fc3918791a4818a6bf655cfb63c96e/result.pdf"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"filesize"</span><span class="p">:</span><span class="w"> </span><span class="mi">13370</span><span class="p">,</span><span class="w">
    </span><span class="s2">"duration"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span></code></pre>
                <p>By passing the "filename" parameter, the endpoint won't return the binary PDF, but an URL from Amazon S3
                    where the document will be stored for 2 days before being automatically deleted.</p>

                <p>This can be useful if you don't want to download a large PDF to your server to then serve it to your
                    users, but instead redirect them directly to that document.</p>
                <h3 id="accessing-secured-pages">Accessing secured pages</h3>
                <pre class="highlight javascript tab-javascript" style="display: none;"><code><span class="kr">const</span> <span class="nx">pdfshift</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'pdfshift'</span><span class="p">)(</span><span class="s1">'your_api_key'</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">);</span>

    <span class="c1">// We use .prepare() instead of .convert to easily handle advanced configuration</span>
    <span class="nx">pdfshift</span><span class="p">.</span><span class="nx">prepare</span><span class="p">(</span><span class="s1">'https://httpbin.org/basic-auth/user/passwd'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">auth</span><span class="p">(</span><span class="s1">'user'</span><span class="p">,</span> <span class="s1">'passwd'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">convert</span><span class="p">()</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">binary_file</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">(</span><span class="s1">'result.pdf'</span><span class="p">,</span> <span class="nx">binary_file</span><span class="p">,</span> <span class="s2">"binary"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{})</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">({</span><span class="nx">message</span><span class="p">,</span> <span class="nx">code</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">errors</span> <span class="o">=</span> <span class="kc">null</span><span class="p">})</span> <span class="p">{})</span>
    </code></pre>
                <pre class="highlight php tab-php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nx">pdfshift</span><span class="p">(</span><span class="s1">'your_api_key_here'</span><span class="p">,</span> <span class="k">array</span> <span class="p">(</span>
        <span class="s1">'source'</span> <span class="o">=&gt;</span> <span class="s1">'https://httpbin.org/basic-auth/user/passwd'</span><span class="p">,</span>
        <span class="s1">'auth'</span> <span class="o">=&gt;</span> <span class="k">array</span> <span class="p">(</span>
            <span class="s1">'username'</span> <span class="o">=&gt;</span> <span class="s1">'user'</span><span class="p">,</span>
            <span class="s1">'password'</span> <span class="o">=&gt;</span> <span class="s1">'passwd'</span>
        <span class="p">)</span>
    <span class="p">));</span>

    <span class="nb">file_put_contents</span><span class="p">(</span><span class="s1">'result.pdf'</span><span class="p">,</span> <span class="nv">$response</span><span class="p">);</span>
    </code></pre>
                <pre class="highlight python tab-python" style=""><code><span class="kn">import</span> <span class="nn">requests</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="s">'https://api.pdfshift.io/v2/convert'</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s">'your_api_key_here'</span><span class="p">,</span> <span class="s">''</span><span class="p">),</span>
        <span class="n">json</span><span class="o">=</span><span class="p">{</span>
            <span class="s">'source'</span><span class="p">:</span> <span class="s">'https://httpbin.org/basic-auth/user/passwd'</span><span class="p">,</span>
            <span class="s">'auth'</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">'username'</span><span class="p">:</span> <span class="s">'user'</span><span class="p">,</span>
                <span class="s">'password'</span><span class="p">:</span> <span class="s">'passwd'</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="n">stream</span><span class="o">=</span><span class="bp">True</span>
    <span class="p">)</span>

    <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'result.pdf'</span><span class="p">,</span> <span class="s">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">chunck</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">iter_content</span><span class="p">(</span><span class="n">chunck_size</span><span class="o">=</span><span class="mi">1024</span><span class="p">):</span>
            <span class="n">output</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunck</span><span class="p">)</span>
    </code></pre>
                <pre class="highlight ruby tab-ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'uri'</span>
    <span class="nb">require</span> <span class="s1">'net/https'</span>
    <span class="nb">require</span> <span class="s1">'json'</span> <span class="c1"># for hash to_json conversion</span>

    <span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.pdfshift.io/v2/convert/"</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"source"</span> <span class="o">=&gt;</span> <span class="s2">"https://httpbin.org/basic-auth/user/passwd"</span><span class="p">,</span>
        <span class="s2">"auth"</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="s2">"username"</span> <span class="o">=&gt;</span> <span class="s2">"user"</span><span class="p">,</span>
            <span class="s2">"password"</span> <span class="o">=&gt;</span> <span class="s2">"passwd"</span>
        <span class="p">}</span> <span class="p">}</span>

    <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">start</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">,</span> <span class="ss">:use_ssl</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
        <span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">request_uri</span><span class="p">)</span>
        <span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">to_json</span>
        <span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"application/json"</span>
        <span class="n">request</span><span class="p">.</span><span class="nf">basic_auth</span> <span class="s1">'your_api_key'</span><span class="p">,</span> <span class="s1">''</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">code</span> <span class="o">==</span> <span class="s1">'200'</span>
            <span class="c1"># Since Ruby 1.9.1 only:</span>
            <span class="no">File</span><span class="p">.</span><span class="nf">binwrite</span><span class="p">(</span><span class="s2">"result.pdf"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)</span>
        <span class="k">else</span>
            <span class="c1"># Handle other codes here</span>
            <span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">code</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="si">}</span><span class="s2">"</span>
        <span class="k">end</span>
    <span class="k">end</span>
    </code></pre>
                <pre class="highlight java tab-java" style="display: none;"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">...</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">var</span> <span class="n">jsonObject</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">jsonObject</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"source"</span><span class="o">,</span> <span class="s">"https://httpbin.org/basic-auth/user/passwd"</span><span class="o">);</span>

        <span class="n">var</span> <span class="n">auth</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">auth</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"username"</span><span class="o">,</span> <span class="s">"user"</span><span class="o">);</span>
        <span class="n">auth</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"password"</span><span class="o">,</span> <span class="s">"passwd"</span><span class="o">);</span>

        <span class="n">jsonObject</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"auth"</span><span class="o">,</span> <span class="n">auth</span><span class="o">);</span>

        <span class="n">var</span> <span class="n">httpRequest</span> <span class="o">=</span> <span class="n">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="n">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="o">))</span>
                <span class="o">.</span><span class="na">timeout</span><span class="o">(</span><span class="n">Duration</span><span class="o">.</span><span class="na">ofSeconds</span><span class="o">(</span><span class="mi">20</span><span class="o">))</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authentication"</span><span class="o">,</span> <span class="s">"Basic "</span> <span class="o">+</span> <span class="s">"your_api_key"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="n">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">jsonObject</span><span class="o">.</span><span class="na">toString</span><span class="o">()))</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>

        <span class="n">var</span> <span class="n">httpClient</span> <span class="o">=</span> <span class="n">HttpClient</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">version</span><span class="o">(</span><span class="n">HttpClient</span><span class="o">.</span><span class="na">Version</span><span class="o">.</span><span class="na">HTTP_1_1</span><span class="o">)</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>

        <span class="n">var</span> <span class="n">response</span> <span class="o">=</span> <span class="n">httpClient</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">httpRequest</span><span class="o">,</span> <span class="n">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofInputStream</span><span class="o">());</span>

        <span class="n">var</span> <span class="n">statusCode</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">statusCode</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">statusCode</span> <span class="o">==</span> <span class="mi">200</span> <span class="o">||</span> <span class="n">statusCode</span> <span class="o">==</span> <span class="mi">201</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// Save the file locally</span>
            <span class="n">var</span> <span class="n">targetFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"src/main/resources/targetFile.pdf"</span><span class="o">);</span>
            <span class="n">Files</span><span class="o">.</span><span class="na">copy</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">(),</span> <span class="n">targetFile</span><span class="o">.</span><span class="na">toPath</span><span class="o">(),</span> <span class="n">StandardCopyOption</span><span class="o">.</span><span class="na">REPLACE_EXISTING</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="c1">// error occurred</span>
        <span class="o">}</span>
    <span class="o">}</span>
    </code></pre>
                <pre class="highlight csharp tab-csharp" style="display: none;"><code><span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">IRestClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="p">);</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Authenticator</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">HttpBasicAuthenticator</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>

        <span class="n">IRestRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>

        <span class="kt">var</span> <span class="n">json</span> <span class="p">=</span> <span class="k">new</span>
        <span class="p">{</span>
            <span class="n">source</span> <span class="p">=</span> <span class="s">"https://httpbin.org/basic-auth/user/passwd"</span><span class="p">,</span>
            <span class="n">auth</span> <span class="p">=</span> <span class="k">new</span> <span class="p">{</span> <span class="n">username</span> <span class="p">=</span> <span class="s">"user"</span><span class="p">,</span> <span class="n">password</span> <span class="p">=</span> <span class="s">"passwd"</span> <span class="p">}</span>
        <span class="p">};</span>
        <span class="n">request</span><span class="p">.</span><span class="nf">AddJsonBody</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>

        <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">response</span><span class="p">.</span><span class="n">IsSuccessful</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Check why status is not int 2xx.</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="n">File</span><span class="p">.</span><span class="nf">WriteAllBytes</span><span class="p">(</span><span class="s">"result.pdf"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">RawBytes</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    </code></pre>
                <pre class="highlight go tab-go" style="display: none;"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

    </span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
        </span><span class="s">"bytes"</span><span class="x">
        </span><span class="s">"encoding/json"</span><span class="x">
        </span><span class="s">"io/ioutil"</span><span class="x">
        </span><span class="s">"log"</span><span class="x">
        </span><span class="s">"net/http"</span><span class="x">
    </span><span class="p">)</span><span class="x">

    </span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">API_KEY</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"your_api_key"</span><span class="x">

        </span><span class="n">message</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
            </span><span class="s">"source"</span><span class="o">:</span><span class="x"> </span><span class="s">"https://httpbin.org/basic-auth/user/passwd"</span><span class="p">,</span><span class="x">
            </span><span class="s">"auth"</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="x">
                </span><span class="s">"username"</span><span class="o">:</span><span class="x"> </span><span class="s">"user"</span><span class="p">,</span><span class="x">
                </span><span class="s">"password"</span><span class="o">:</span><span class="x"> </span><span class="s">"passwd"</span><span class="p">,</span><span class="x">
            </span><span class="p">},</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="n">bytesRepresentation</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">json</span><span class="o">.</span><span class="n">Marshal</span><span class="p">(</span><span class="n">message</span><span class="p">)</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
        </span><span class="n">request</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="p">,</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">bytesRepresentation</span><span class="p">))</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">
        </span><span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/json"</span><span class="p">)</span><span class="x">
        </span><span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Basic "</span><span class="x"> </span><span class="o">+</span><span class="x"> </span><span class="n">API_KEY</span><span class="p">)</span><span class="x">

        </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="k">if</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="x"> </span><span class="o">&gt;=</span><span class="x"> </span><span class="m">200</span><span class="x"> </span><span class="o">&amp;&amp;</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="x"> </span><span class="o">&lt;</span><span class="x"> </span><span class="m">300</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">body</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">
            </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
                </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
            </span><span class="p">}</span><span class="x">
            </span><span class="c">// write the response to file</span><span class="x">
            </span><span class="n">ioutil</span><span class="o">.</span><span class="n">WriteFile</span><span class="p">(</span><span class="s">"example.pdf"</span><span class="p">,</span><span class="x"> </span><span class="n">body</span><span class="p">,</span><span class="x"> </span><span class="m">0644</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x"> </span><span class="k">else</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="k">var</span><span class="x"> </span><span class="n">result</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span><span class="x">

            </span><span class="n">json</span><span class="o">.</span><span class="n">NewDecoder</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="x">

            </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">
    </span><span class="p">}</span><span class="x">
    </span></code></pre>
                <blockquote>
                    <p>The above command returns a PDF in binary format.</p>
                </blockquote>

                <p>If your documents are located inside a protected area requiring a Basic Auth access, you can use the
                    <code>auth</code> parameter from PDFShift's API to connect to your website.
                    Here's an example on how to do so.</p>
                <h3 id="using-cookies">Using Cookies</h3>
                <pre class="highlight javascript tab-javascript" style="display: none;"><code><span class="kr">const</span> <span class="nx">pdfshift</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'pdfshift'</span><span class="p">)(</span><span class="s1">'your_api_key'</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">);</span>

    <span class="c1">// We use .prepare() instead of .convert to easily handle advanced configuration</span>
    <span class="nx">pdfshift</span><span class="p">.</span><span class="nx">prepare</span><span class="p">(</span><span class="s1">'https://httpbin.org/cookies'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">addCookie</span><span class="p">({</span><span class="na">name</span><span class="p">:</span> <span class="s1">'session'</span><span class="p">,</span> <span class="na">value</span><span class="p">:</span> <span class="s1">'4cb496a8-a3eb-4a7e-a704-f993cb6a4dac'</span><span class="p">})</span>
        <span class="p">.</span><span class="nx">convert</span><span class="p">()</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">binary_file</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">(</span><span class="s1">'result.pdf'</span><span class="p">,</span> <span class="nx">binary_file</span><span class="p">,</span> <span class="s2">"binary"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{})</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">({</span><span class="nx">message</span><span class="p">,</span> <span class="nx">code</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">errors</span> <span class="o">=</span> <span class="kc">null</span><span class="p">})</span> <span class="p">{})</span>
    </code></pre>
                <pre class="highlight php tab-php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nx">pdfshift</span><span class="p">(</span><span class="s1">'your_api_key_here'</span><span class="p">,</span> <span class="k">array</span> <span class="p">(</span>
        <span class="s1">'source'</span> <span class="o">=&gt;</span> <span class="s1">'https://httpbin.org/cookies'</span><span class="p">,</span>
        <span class="s1">'cookies'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span><span class="k">array</span> <span class="p">(</span><span class="s1">'name'</span> <span class="o">=&gt;</span> <span class="s1">'session'</span><span class="p">,</span> <span class="s1">'value'</span> <span class="o">=&gt;</span> <span class="s1">'4cb496a8-a3eb-4a7e-a704-f993cb6a4dac'</span><span class="p">))</span>
    <span class="p">));</span>

    <span class="nb">file_put_contents</span><span class="p">(</span><span class="s1">'result.pdf'</span><span class="p">,</span> <span class="nv">$response</span><span class="p">);</span>
    </code></pre>
                <pre class="highlight python tab-python" style=""><code><span class="kn">import</span> <span class="nn">requests</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="s">'https://api.pdfshift.io/v2/convert'</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s">'your_api_key_here'</span><span class="p">,</span> <span class="s">''</span><span class="p">),</span>
        <span class="n">json</span><span class="o">=</span><span class="p">{</span>
            <span class="s">'source'</span><span class="p">:</span> <span class="s">'https://httpbin.org/cookies'</span><span class="p">,</span>
            <span class="s">'cookies'</span><span class="p">:</span> <span class="p">[{</span><span class="s">'name'</span><span class="p">:</span> <span class="s">'session'</span><span class="p">,</span> <span class="s">'value'</span><span class="p">:</span> <span class="s">'4cb496a8-a3eb-4a7e-a704-f993cb6a4dac'</span><span class="p">}]</span>
        <span class="p">},</span>
        <span class="n">stream</span><span class="o">=</span><span class="bp">True</span>
    <span class="p">)</span>

    <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'result.pdf'</span><span class="p">,</span> <span class="s">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">chunck</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">iter_content</span><span class="p">(</span><span class="n">chunck_size</span><span class="o">=</span><span class="mi">1024</span><span class="p">):</span>
            <span class="n">output</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunck</span><span class="p">)</span>
    </code></pre>
                <pre class="highlight ruby tab-ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'uri'</span>
    <span class="nb">require</span> <span class="s1">'net/https'</span>
    <span class="nb">require</span> <span class="s1">'json'</span> <span class="c1"># for hash to_json conversion</span>

    <span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.pdfshift.io/v2/convert/"</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"source"</span> <span class="o">=&gt;</span> <span class="s2">"https://httpbin.org/cookies"</span><span class="p">,</span>
        <span class="s2">"cookies"</span> <span class="o">=&gt;</span> <span class="p">[{</span><span class="s2">"name"</span> <span class="o">=&gt;</span> <span class="s2">"session"</span><span class="p">,</span>
        <span class="s2">"value"</span> <span class="o">=&gt;</span> <span class="s2">"4cb496a8-a3eb-4a7e-a704-f993cb6a4dac"</span> <span class="p">}]</span> <span class="p">}</span>

    <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">start</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">,</span> <span class="ss">:use_ssl</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
        <span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">request_uri</span><span class="p">)</span>
        <span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">to_json</span>
        <span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"application/json"</span>
        <span class="n">request</span><span class="p">.</span><span class="nf">basic_auth</span> <span class="s1">'your_api_key'</span><span class="p">,</span> <span class="s1">''</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">code</span> <span class="o">==</span> <span class="s1">'200'</span>
            <span class="c1"># Since Ruby 1.9.1 only:</span>
            <span class="no">File</span><span class="p">.</span><span class="nf">binwrite</span><span class="p">(</span><span class="s2">"result.pdf"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)</span>
        <span class="k">else</span>
            <span class="c1"># Handle other codes here</span>
            <span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">code</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="si">}</span><span class="s2">"</span>
        <span class="k">end</span>
    <span class="k">end</span>
    </code></pre>
                <pre class="highlight java tab-java" style="display: none;"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">...</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">var</span> <span class="n">jsonObject</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">jsonObject</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"source"</span><span class="o">,</span> <span class="s">"https://httpbin.org/cookies"</span><span class="o">);</span>

        <span class="n">var</span> <span class="n">cookie</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">cookie</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"name"</span><span class="o">,</span> <span class="s">"session"</span><span class="o">);</span>
        <span class="n">cookie</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"value"</span><span class="o">,</span> <span class="s">"4cb496a8-a3eb-4a7e-a704-f993cb6a4dac"</span><span class="o">);</span>

        <span class="n">var</span> <span class="n">cookies</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONArray</span><span class="o">();</span>
        <span class="n">cookies</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">cookie</span><span class="o">);</span>

        <span class="n">jsonObject</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"cookies"</span><span class="o">,</span> <span class="n">cookies</span><span class="o">);</span>

        <span class="n">var</span> <span class="n">httpRequest</span> <span class="o">=</span> <span class="n">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="n">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="o">))</span>
                <span class="o">.</span><span class="na">timeout</span><span class="o">(</span><span class="n">Duration</span><span class="o">.</span><span class="na">ofSeconds</span><span class="o">(</span><span class="mi">20</span><span class="o">))</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authentication"</span><span class="o">,</span> <span class="s">"Basic "</span> <span class="o">+</span> <span class="s">"your_api_key"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="n">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">jsonObject</span><span class="o">.</span><span class="na">toString</span><span class="o">()))</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>

        <span class="n">var</span> <span class="n">httpClient</span> <span class="o">=</span> <span class="n">HttpClient</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">version</span><span class="o">(</span><span class="n">HttpClient</span><span class="o">.</span><span class="na">Version</span><span class="o">.</span><span class="na">HTTP_1_1</span><span class="o">)</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>

        <span class="n">var</span> <span class="n">response</span> <span class="o">=</span> <span class="n">httpClient</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">httpRequest</span><span class="o">,</span> <span class="n">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofInputStream</span><span class="o">());</span>

        <span class="n">var</span> <span class="n">statusCode</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">statusCode</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">statusCode</span> <span class="o">==</span> <span class="mi">200</span> <span class="o">||</span> <span class="n">statusCode</span> <span class="o">==</span> <span class="mi">201</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// Save the file locally</span>
            <span class="n">var</span> <span class="n">targetFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"src/main/resources/targetFile.pdf"</span><span class="o">);</span>
            <span class="n">Files</span><span class="o">.</span><span class="na">copy</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">(),</span> <span class="n">targetFile</span><span class="o">.</span><span class="na">toPath</span><span class="o">(),</span> <span class="n">StandardCopyOption</span><span class="o">.</span><span class="na">REPLACE_EXISTING</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="c1">// error occurred</span>
        <span class="o">}</span>
    <span class="o">}</span>
    </code></pre>
                <pre class="highlight csharp tab-csharp" style="display: none;"><code><span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">IRestClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="p">);</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Authenticator</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">HttpBasicAuthenticator</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>

        <span class="n">IRestRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>

        <span class="kt">var</span> <span class="n">json</span> <span class="p">=</span> <span class="k">new</span>
        <span class="p">{</span>
            <span class="n">source</span> <span class="p">=</span> <span class="s">"https://httpbin.org/cookies"</span><span class="p">,</span>
            <span class="n">cookies</span> <span class="p">=</span> <span class="k">new</span> <span class="kt">object</span><span class="p">[]</span> <span class="p">{</span> <span class="k">new</span> <span class="p">{</span> <span class="n">name</span> <span class="p">=</span> <span class="s">"Session"</span><span class="p">,</span> <span class="k">value</span> <span class="p">=</span> <span class="s">"4cb496a8-a3eb-4a7e-a704-f993cb6a4dac"</span> <span class="p">}</span> <span class="p">}</span>
        <span class="p">};</span>
        <span class="n">request</span><span class="p">.</span><span class="nf">AddJsonBody</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>

        <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">response</span><span class="p">.</span><span class="n">IsSuccessful</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Check why status is not int 2xx.</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="n">File</span><span class="p">.</span><span class="nf">WriteAllBytes</span><span class="p">(</span><span class="s">"result.pdf"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">RawBytes</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    </code></pre>
                <pre class="highlight go tab-go" style="display: none;"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

    </span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
        </span><span class="s">"net/http"</span><span class="x">
        </span><span class="s">"log"</span><span class="x">
        </span><span class="s">"encoding/json"</span><span class="x">
        </span><span class="s">"bytes"</span><span class="x">
        </span><span class="s">"io/ioutil"</span><span class="x">

    </span><span class="p">)</span><span class="x">

    </span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">API_KEY</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"your_api_key"</span><span class="x">

        </span><span class="n">cookies</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="nb">make</span><span class="p">([]</span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">,</span><span class="x"> </span><span class="m">1</span><span class="p">)</span><span class="x">

        </span><span class="n">cookies</span><span class="p">[</span><span class="m">0</span><span class="p">]</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="nb">make</span><span class="p">(</span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">)</span><span class="x">
        </span><span class="n">cookies</span><span class="p">[</span><span class="m">0</span><span class="p">][</span><span class="s">"name"</span><span class="p">]</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"session"</span><span class="x">
        </span><span class="n">cookies</span><span class="p">[</span><span class="m">0</span><span class="p">][</span><span class="s">"value"</span><span class="p">]</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="s">"4cb496a8-a3eb-4a7e-a704-f993cb6a4dac"</span><span class="x">

        </span><span class="n">message</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
            </span><span class="s">"source"</span><span class="o">:</span><span class="x"> </span><span class="s">"&lt;html&gt;&lt;head&gt;&lt;title&gt;Hello world&lt;/title&gt;&lt;body&gt;&lt;h1&gt;Hello World&lt;/h1&gt;&lt;/body&gt;&lt;/head&gt;&lt;/html&gt;"</span><span class="p">,</span><span class="x">
            </span><span class="s">"cookies"</span><span class="o">:</span><span class="x"> </span><span class="n">cookies</span><span class="p">,</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="n">bytesRepresentation</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">json</span><span class="o">.</span><span class="n">Marshal</span><span class="p">(</span><span class="n">message</span><span class="p">)</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
        </span><span class="n">request</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="p">,</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">bytesRepresentation</span><span class="p">))</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">
        </span><span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/json"</span><span class="p">)</span><span class="x">
        </span><span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Basic "</span><span class="x"> </span><span class="o">+</span><span class="x"> </span><span class="n">API_KEY</span><span class="p">)</span><span class="x">

        </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="k">if</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="x"> </span><span class="o">&gt;=</span><span class="x"> </span><span class="m">200</span><span class="x"> </span><span class="o">&amp;&amp;</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="x"> </span><span class="o">&lt;</span><span class="x"> </span><span class="m">300</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">body</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">
            </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
                </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
            </span><span class="p">}</span><span class="x">
            </span><span class="c">// write the response to file</span><span class="x">
            </span><span class="n">ioutil</span><span class="o">.</span><span class="n">WriteFile</span><span class="p">(</span><span class="s">"example.pdf"</span><span class="p">,</span><span class="x"> </span><span class="n">body</span><span class="p">,</span><span class="x"> </span><span class="m">0644</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x"> </span><span class="k">else</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="k">var</span><span class="x"> </span><span class="n">result</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span><span class="x">

            </span><span class="n">json</span><span class="o">.</span><span class="n">NewDecoder</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="x">

            </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">
    </span><span class="p">}</span><span class="x">
    </span></code></pre>
                <blockquote>
                    <p>The above command returns a PDF in binary format.</p>
                </blockquote>

                <p>On the contrary, if your endpoint requires a more advanced authentication format, like a PHP session.
                    You can add cookies to the parameter to simulate an active session.</p>

                <p>This can be easily done with the <code>cookies</code> parameter from our API.</p>
                <h3 id="adding-a-custom-footer">Adding a custom footer</h3>
                <pre class="highlight javascript tab-javascript" style="display: none;"><code><span class="kr">const</span> <span class="nx">pdfshift</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'pdfshift'</span><span class="p">)(</span><span class="s1">'your_api_key'</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">);</span>

    <span class="c1">// We use .prepare() instead of .convert to easily handle advanced configuration</span>
    <span class="nx">pdfshift</span><span class="p">.</span><span class="nx">prepare</span><span class="p">(</span><span class="s1">'https://www.example.com'</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">footer</span><span class="p">({</span><span class="na">source</span><span class="p">:</span> <span class="s1">'&lt;div&gt;Page {{page}} of {{total}}&lt;/div&gt;'</span><span class="p">,</span> <span class="na">spacing</span><span class="p">:</span> <span class="s1">'50px'</span><span class="p">})</span>
        <span class="p">.</span><span class="nx">convert</span><span class="p">()</span>
        <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">binary_file</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">fs</span><span class="p">.</span><span class="nx">writeFile</span><span class="p">(</span><span class="s1">'result.pdf'</span><span class="p">,</span> <span class="nx">binary_file</span><span class="p">,</span> <span class="s2">"binary"</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{})</span>
        <span class="p">})</span>
        <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">({</span><span class="nx">message</span><span class="p">,</span> <span class="nx">code</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">errors</span> <span class="o">=</span> <span class="kc">null</span><span class="p">})</span> <span class="p">{})</span>
    </code></pre>
                <pre class="highlight php tab-php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="nv">$response</span> <span class="o">=</span> <span class="nx">pdfshift</span><span class="p">(</span><span class="s1">'your_api_key_here'</span><span class="p">,</span> <span class="k">array</span> <span class="p">(</span>
        <span class="s1">'source'</span> <span class="o">=&gt;</span> <span class="s1">'https://www.example.com'</span><span class="p">,</span>
        <span class="s1">'footer'</span> <span class="o">=&gt;</span> <span class="k">array</span> <span class="p">(</span>
            <span class="s1">'source'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;div style="font-size: 12px"&gt;Page {{ "{{page}}" }} of {{ "{{total}}" }}&lt;/div&gt;'</span><span class="p">,</span>
            <span class="s1">'spacing'</span> <span class="o">=&gt;</span> <span class="s1">'50px'</span>
        <span class="p">)</span>
    <span class="p">));</span>

    <span class="nb">file_put_contents</span><span class="p">(</span><span class="s1">'result.pdf'</span><span class="p">,</span> <span class="nv">$response</span><span class="p">);</span>
    </code></pre>
                <pre class="highlight python tab-python" style=""><code><span class="kn">import</span> <span class="nn">requests</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="s">'https://api.pdfshift.io/v2/convert'</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s">'your_api_key_here'</span><span class="p">,</span> <span class="s">''</span><span class="p">),</span>
        <span class="n">json</span><span class="o">=</span><span class="p">{</span>
            <span class="s">'source'</span><span class="p">:</span> <span class="s">'https://www.example.com'</span><span class="p">,</span>
            <span class="s">'footer'</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">'source'</span><span class="p">:</span> <span class="s">'&lt;div style="font-size: 12px"&gt;Page {{ "{{page}}" }} of {{ "{{total}}" }}&lt;/div&gt;'</span><span class="p">,</span>
                <span class="s">'spacing'</span><span class="p">:</span> <span class="s">'50px'</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="n">stream</span><span class="o">=</span><span class="bp">True</span>
    <span class="p">)</span>

    <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'result.pdf'</span><span class="p">,</span> <span class="s">'wb'</span><span class="p">)</span> <span class="k">as</span> <span class="n">output</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">chunck</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">iter_content</span><span class="p">(</span><span class="n">chunck_size</span><span class="o">=</span><span class="mi">1024</span><span class="p">):</span>
            <span class="n">output</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">chunck</span><span class="p">)</span>
    </code></pre>
                <pre class="highlight ruby tab-ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'uri'</span>
    <span class="nb">require</span> <span class="s1">'net/https'</span>
    <span class="nb">require</span> <span class="s1">'json'</span> <span class="c1"># for hash to_json conversion</span>

    <span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.pdfshift.io/v2/convert/"</span><span class="p">)</span>
    <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"source"</span> <span class="o">=&gt;</span> <span class="s2">"https://www.example.com"</span><span class="p">,</span>
        <span class="s1">'footer'</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="s1">'source'</span> <span class="o">=&gt;</span> <span class="s1">'&lt;div style="font-size: 12px"&gt;Page {{ "{{page}}" }} of {{ "{{total}}" }}&lt;/div&gt;'</span><span class="p">,</span>
            <span class="s1">'spacing'</span> <span class="o">=&gt;</span> <span class="s1">'50px'</span>
        <span class="p">}</span> <span class="p">}</span>

    <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">start</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">,</span> <span class="ss">:use_ssl</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
        <span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">request_uri</span><span class="p">)</span>
        <span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">to_json</span>
        <span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"application/json"</span>
        <span class="n">request</span><span class="p">.</span><span class="nf">basic_auth</span> <span class="s1">'your_api_key'</span><span class="p">,</span> <span class="s1">''</span>

        <span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">code</span> <span class="o">==</span> <span class="s1">'200'</span>
            <span class="c1"># Since Ruby 1.9.1 only:</span>
            <span class="no">File</span><span class="p">.</span><span class="nf">binwrite</span><span class="p">(</span><span class="s2">"result.pdf"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)</span>
        <span class="k">else</span>
            <span class="c1"># Handle other codes here</span>
            <span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">code</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="si">}</span><span class="s2">"</span>
        <span class="k">end</span>
    <span class="k">end</span>
    </code></pre>
                <pre class="highlight java tab-java" style="display: none;"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">...</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">var</span> <span class="n">jsonObject</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">jsonObject</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"source"</span><span class="o">,</span> <span class="s">"https://www.example.com"</span><span class="o">);</span>

        <span class="n">var</span> <span class="n">footer</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">footer</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"source"</span><span class="o">,</span> <span class="s">"&lt;div style='font-size: 12px'&gt;Page {{ "</span><span class="o">{{</span><span class="n">page</span><span class="o">}}</span><span class="s">" }} of {{ "</span><span class="o">{{</span><span class="n">total</span><span class="o">}}</span><span class="s">" }}&lt;/div&gt;"</span><span class="o">);</span>
        <span class="n">footer</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"spacing"</span><span class="o">,</span> <span class="s">"50px"</span><span class="o">);</span>

        <span class="n">jsonObject</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"footer"</span><span class="o">,</span> <span class="n">footer</span><span class="o">);</span>

        <span class="n">var</span> <span class="n">httpRequest</span> <span class="o">=</span> <span class="n">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="n">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="o">))</span>
                <span class="o">.</span><span class="na">timeout</span><span class="o">(</span><span class="n">Duration</span><span class="o">.</span><span class="na">ofSeconds</span><span class="o">(</span><span class="mi">20</span><span class="o">))</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authentication"</span><span class="o">,</span> <span class="s">"Basic "</span> <span class="o">+</span> <span class="s">"your_api_key"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="n">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">jsonObject</span><span class="o">.</span><span class="na">toString</span><span class="o">()))</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>

        <span class="n">var</span> <span class="n">httpClient</span> <span class="o">=</span> <span class="n">HttpClient</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">version</span><span class="o">(</span><span class="n">HttpClient</span><span class="o">.</span><span class="na">Version</span><span class="o">.</span><span class="na">HTTP_1_1</span><span class="o">)</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>

        <span class="n">var</span> <span class="n">response</span> <span class="o">=</span> <span class="n">httpClient</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">httpRequest</span><span class="o">,</span> <span class="n">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofInputStream</span><span class="o">());</span>

        <span class="n">var</span> <span class="n">statusCode</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">statusCode</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">statusCode</span> <span class="o">==</span> <span class="mi">200</span> <span class="o">||</span> <span class="n">statusCode</span> <span class="o">==</span> <span class="mi">201</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// Save the file locally</span>
            <span class="n">var</span> <span class="n">targetFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"src/main/resources/targetFile.pdf"</span><span class="o">);</span>
            <span class="n">Files</span><span class="o">.</span><span class="na">copy</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">(),</span> <span class="n">targetFile</span><span class="o">.</span><span class="na">toPath</span><span class="o">(),</span> <span class="n">StandardCopyOption</span><span class="o">.</span><span class="na">REPLACE_EXISTING</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="c1">// error occurred</span>
        <span class="o">}</span>
    <span class="o">}</span>
    </code></pre>
                <pre class="highlight csharp tab-csharp" style="display: none;"><code><span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">IRestClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="p">);</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Authenticator</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">HttpBasicAuthenticator</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>

        <span class="n">IRestRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>

        <span class="kt">var</span> <span class="n">json</span> <span class="p">=</span> <span class="k">new</span>
        <span class="p">{</span>
            <span class="n">source</span> <span class="p">=</span> <span class="s">"https://www.example.com"</span><span class="p">,</span>
            <span class="n">footer</span> <span class="p">=</span> <span class="k">new</span> <span class="p">{</span> <span class="n">source</span> <span class="p">=</span> <span class="s">"&lt;div style=\"font-size: 12px\"&gt;Page {{ "</span><span class="p">{{</span><span class="n">page</span><span class="p">}}</span><span class="s">" }} of {{ "</span><span class="p">{{</span><span class="n">total</span><span class="p">}}</span><span class="s">" }}&lt;/div&gt;"</span><span class="p">,</span> <span class="n">spacing</span> <span class="p">=</span> <span class="s">"50px"</span> <span class="p">}</span>
        <span class="p">};</span>
        <span class="n">request</span><span class="p">.</span><span class="nf">AddJsonBody</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>

        <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">response</span><span class="p">.</span><span class="n">IsSuccessful</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Check why status is not int 2xx.</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="n">File</span><span class="p">.</span><span class="nf">WriteAllBytes</span><span class="p">(</span><span class="s">"result.pdf"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="n">RawBytes</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    </code></pre>
                <pre class="highlight go tab-go" style="display: none;"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

    </span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
        </span><span class="s">"bytes"</span><span class="x">
        </span><span class="s">"encoding/json"</span><span class="x">
        </span><span class="s">"io/ioutil"</span><span class="x">
        </span><span class="s">"log"</span><span class="x">
        </span><span class="s">"net/http"</span><span class="x">
    </span><span class="p">)</span><span class="x">

    </span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">API_KEY</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"your_api_key"</span><span class="x">

        </span><span class="n">message</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
            </span><span class="s">"source"</span><span class="o">:</span><span class="x"> </span><span class="s">"https://www.example.com"</span><span class="p">,</span><span class="x">
            </span><span class="s">"footer"</span><span class="o">:</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="kt">string</span><span class="p">{</span><span class="x">
                </span><span class="s">"source"</span><span class="o">:</span><span class="x"> </span><span class="s">"&lt;div style='font-size: 12px'&gt;Page {{ "</span><span class="p">{{</span><span class="n">page</span><span class="p">}}</span><span class="s">" }} of {{ "</span><span class="p">{{</span><span class="n">total</span><span class="p">}}</span><span class="s">" }}&lt;/div&gt;"</span><span class="p">,</span><span class="x">
                </span><span class="s">"spacing"</span><span class="o">:</span><span class="x"> </span><span class="s">"50px"</span><span class="p">,</span><span class="x">
            </span><span class="p">},</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="n">bytesRepresentation</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">json</span><span class="o">.</span><span class="n">Marshal</span><span class="p">(</span><span class="n">message</span><span class="p">)</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
        </span><span class="n">request</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="p">,</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">bytesRepresentation</span><span class="p">))</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">
        </span><span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/json"</span><span class="p">)</span><span class="x">
        </span><span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Basic "</span><span class="x"> </span><span class="o">+</span><span class="x"> </span><span class="n">API_KEY</span><span class="p">)</span><span class="x">

        </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="k">if</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="x"> </span><span class="o">&gt;=</span><span class="x"> </span><span class="m">200</span><span class="x"> </span><span class="o">&amp;&amp;</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="x"> </span><span class="o">&lt;</span><span class="x"> </span><span class="m">300</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">body</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">
            </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
                </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
            </span><span class="p">}</span><span class="x">
            </span><span class="c">// write the response to file</span><span class="x">
            </span><span class="n">ioutil</span><span class="o">.</span><span class="n">WriteFile</span><span class="p">(</span><span class="s">"example.pdf"</span><span class="p">,</span><span class="x"> </span><span class="n">body</span><span class="p">,</span><span class="x"> </span><span class="m">0644</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x"> </span><span class="k">else</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="k">var</span><span class="x"> </span><span class="n">result</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span><span class="x">

            </span><span class="n">json</span><span class="o">.</span><span class="n">NewDecoder</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="x">

            </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">
    </span><span class="p">}</span><span class="x">
    </span></code></pre>
                <blockquote>
                    <p>The above command returns a PDF in binary format.</p>
                </blockquote>

                <p>One frequent action when converting a web document to PDF is to add header and footer.
                    This is useful to add page number for instance, or the name of your company at the top of each pages.
                </p>

                <p>This is easily done in PDFShift with the <code>header</code>/<code>footer</code> parameter.</p>
                <h3 id="sending-an-invoice-by-email">Sending an invoice by email</h3>
                <pre class="highlight javascript tab-javascript" style="display: none;"><code><span class="kr">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'express'</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">fs</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'fs'</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">nodemail</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'nodemailer'</span><span class="p">);</span>
    <span class="kr">const</span> <span class="nx">pdfshift</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'pdfshift'</span><span class="p">)(</span><span class="s1">'your_api_key'</span><span class="p">);</span>

    <span class="kr">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">express</span><span class="p">();</span>

    <span class="nx">app</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="s1">'/send/'</span><span class="p">,</span>  <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">invoice</span> <span class="o">=</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">'invoice.html'</span><span class="p">,</span> <span class="s1">'utf8'</span><span class="p">);</span>

        <span class="nx">pdfshift</span><span class="p">.</span><span class="nx">convert</span><span class="p">(</span><span class="nx">invoice</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">binary_pdf</span><span class="p">)</span> <span class="p">{</span>
            <span class="kd">let</span> <span class="nx">transporter</span> <span class="o">=</span> <span class="nx">nodemailer</span><span class="p">.</span><span class="nx">createTransport</span><span class="p">({</span>
                <span class="na">host</span><span class="p">:</span> <span class="s2">"smtp.gmail.com"</span><span class="p">,</span>
                <span class="na">port</span><span class="p">:</span> <span class="mi">587</span><span class="p">,</span>
                <span class="na">secure</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="na">auth</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">user</span><span class="p">:</span> <span class="nx">account</span><span class="p">.</span><span class="nx">user</span><span class="p">,</span>
                    <span class="na">pass</span><span class="p">:</span> <span class="nx">account</span><span class="p">.</span><span class="nx">pass</span>
                <span class="p">}</span>
            <span class="p">});</span>

            <span class="kd">let</span> <span class="nx">mailOptions</span> <span class="o">=</span> <span class="p">{</span>
                <span class="na">from</span><span class="p">:</span> <span class="s1">'"Billing at Your-Site" &lt;billing@your-site.tld&gt;'</span><span class="p">,</span>
                <span class="na">to</span><span class="p">:</span> <span class="s2">"customer@gmail.com"</span>
                <span class="na">subject</span><span class="p">:</span> <span class="s2">"Thank you for your purchase"</span><span class="p">,</span>
                <span class="na">text</span><span class="p">:</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">'templates/emails/invoice.txt'</span><span class="p">,</span> <span class="s1">'utf8'</span><span class="p">),</span>
                <span class="na">html</span><span class="p">:</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFileSync</span><span class="p">(</span><span class="s1">'templates/emails/invoice.html'</span><span class="p">,</span> <span class="s1">'utf8'</span><span class="p">),</span>
                <span class="na">attachments</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">{</span>
                        <span class="na">filename</span><span class="p">:</span> <span class="s1">'invoice.pdf'</span><span class="p">,</span>
                        <span class="na">contentType</span><span class="p">:</span> <span class="s1">'application/pdf'</span><span class="p">,</span>
                        <span class="na">content</span><span class="p">:</span> <span class="nx">binary_pdf</span>
                    <span class="p">}</span>
                <span class="p">]</span>
            <span class="p">};</span>

            <span class="c1">// send mail with defined transport object</span>
            <span class="nx">await</span> <span class="nx">transporter</span><span class="p">.</span><span class="nx">sendMail</span><span class="p">(</span><span class="nx">mailOptions</span><span class="p">)</span>

            <span class="c1">// Then, we redirect</span>
            <span class="nx">res</span><span class="p">.</span><span class="nx">redirect</span><span class="p">(</span><span class="mi">301</span><span class="p">,</span> <span class="s1">'/thank-you'</span><span class="p">);</span>
        <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">({</span><span class="nx">message</span><span class="p">,</span> <span class="nx">code</span><span class="p">,</span> <span class="nx">response</span><span class="p">,</span> <span class="nx">errors</span> <span class="o">=</span> <span class="kc">null</span><span class="p">})</span> <span class="p">{})</span>
    <span class="p">})</span>
    </code></pre>
                <pre class="highlight php tab-php" style="display: none;"><code><span class="cp">&lt;?php</span>
    <span class="k">use</span> <span class="nx">PHPMailer\PHPMailer\PHPMailer</span><span class="p">;</span>
    <span class="k">use</span> <span class="nx">PHPMailer\PHPMailer\Exception</span><span class="p">;</span>

    <span class="k">require</span> <span class="s1">'path/to/PHPMailer/src/Exception.php'</span><span class="p">;</span>
    <span class="k">require</span> <span class="s1">'path/to/PHPMailer/src/PHPMailer.php'</span><span class="p">;</span>
    <span class="k">require</span> <span class="s1">'path/to/PHPMailer/src/SMTP.php'</span><span class="p">;</span>

    <span class="nv">$source</span> <span class="o">=</span> <span class="nb">file_get_contents</span><span class="p">(</span><span class="s1">'invoice.html'</span><span class="p">);</span>

    <span class="nv">$binary_pdf</span> <span class="o">=</span> <span class="nx">pdfshift</span><span class="p">(</span><span class="s1">'your_api_key_here'</span><span class="p">,</span> <span class="k">array</span> <span class="p">(</span>
        <span class="s1">'source'</span> <span class="o">=&gt;</span> <span class="nv">$source</span>
    <span class="p">));</span>

    <span class="nv">$mail</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PHPMailer</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="k">try</span> <span class="p">{</span>
        <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">isSMTP</span><span class="p">();</span>
        <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Host</span> <span class="o">=</span> <span class="s1">'smtp1.example.com;smtp2.example.com'</span><span class="p">;</span>
        <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">SMTPAuth</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Username</span> <span class="o">=</span> <span class="s1">'billing@your-site.tld'</span><span class="p">;</span>
        <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Password</span> <span class="o">=</span> <span class="s1">'secret'</span><span class="p">;</span>
        <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">SMTPSecure</span> <span class="o">=</span> <span class="s1">'tls'</span><span class="p">;</span>
        <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Port</span> <span class="o">=</span> <span class="mi">587</span><span class="p">;</span>

        <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">setFrom</span><span class="p">(</span><span class="s1">'billing@your-site.tld'</span><span class="p">,</span> <span class="s1">'Billing at Your-Site'</span><span class="p">);</span>
        <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">addAddress</span><span class="p">(</span><span class="s1">'customer@gmail.com'</span><span class="p">,</span> <span class="s1">'John Doe'</span><span class="p">);</span>

        <span class="c1">// Body of the email
    </span>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">isHTML</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
        <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Subject</span> <span class="o">=</span> <span class="s1">'Thank you for your purchase'</span><span class="p">;</span>
        <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">Body</span>    <span class="o">=</span> <span class="nb">file_get_contents</span><span class="p">(</span><span class="s1">'templates/emails/invoice.html'</span><span class="p">);</span>
        <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">AltBody</span> <span class="o">=</span> <span class="nb">file_get_contents</span><span class="p">(</span><span class="s1">'templates/emails/invoice.txt'</span><span class="p">);</span>

        <span class="c1">// Add the invoice from PDFShift:
    </span>    <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">addStringAttachment</span><span class="p">(</span><span class="nv">$binary_pdf</span><span class="p">,</span> <span class="s1">'invoice.pdf'</span><span class="p">,</span> <span class="s1">'base64'</span><span class="p">,</span> <span class="s1">'application/pdf'</span><span class="p">);</span>

        <span class="nv">$mail</span><span class="o">-&gt;</span><span class="na">send</span><span class="p">();</span>
        <span class="k">return</span> <span class="nx">redirect</span><span class="p">(</span><span class="s1">'/thank-you'</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Manage exception
    </span><span class="p">}</span>
    </code></pre>
                <pre class="highlight python tab-python" style=""><code><span class="kn">from</span> <span class="nn">django.core.mail</span> <span class="kn">import</span> <span class="n">EmailMultiAlternatives</span>
    <span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">redirect</span>
    <span class="kn">import</span> <span class="nn">requests</span>

    <span class="n">document</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">'invoice.html'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span>
    <span class="n">document_content</span> <span class="o">=</span> <span class="n">document</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
    <span class="n">document</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span>
        <span class="s">'https://api.pdfshift.io/v2/convert'</span><span class="p">,</span>
        <span class="n">auth</span><span class="o">=</span><span class="p">(</span><span class="s">'your_api_key_here'</span><span class="p">,</span> <span class="s">''</span><span class="p">),</span>
        <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s">'source'</span><span class="p">:</span> <span class="n">document_content</span><span class="p">}</span>
    <span class="p">)</span>

    <span class="n">response</span><span class="o">.</span><span class="n">raise_for_status</span><span class="p">()</span>

    <span class="n">text_content</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'templates/emails/invoice.txt'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">text_content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

    <span class="n">html_content</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'templates/emails/invoice.html'</span><span class="p">,</span> <span class="s">'r'</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="n">html_content</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>

    <span class="n">msg</span> <span class="o">=</span> <span class="n">EmailMultiAlternatives</span><span class="p">(</span><span class="s">"Thank you for your purchase"</span><span class="p">,</span> <span class="n">text_content</span><span class="p">,</span> <span class="s">'billing@your-site.tld'</span><span class="p">,</span> <span class="p">[</span><span class="s">'customer@gmail.com'</span><span class="p">])</span>
    <span class="n">msg</span><span class="o">.</span><span class="n">attach_alternative</span><span class="p">(</span><span class="n">html_content</span><span class="p">,</span> <span class="s">"text/html"</span><span class="p">)</span>
    <span class="n">msg</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="s">'invoice.pdf'</span><span class="p">,</span> <span class="n">response</span><span class="o">.</span><span class="n">content</span><span class="p">,</span> <span class="s">'application/pdf'</span><span class="p">)</span>
    <span class="n">msg</span><span class="o">.</span><span class="n">send</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s">'/thank-you'</span><span class="p">)</span>
    </code></pre>
                <pre class="highlight ruby tab-ruby" style="display: none;"><code><span class="nb">require</span> <span class="s1">'uri'</span>
    <span class="nb">require</span> <span class="s1">'net/https'</span>
    <span class="nb">require</span> <span class="s1">'json'</span>
    <span class="nb">require</span> <span class="s1">'net/smtp'</span>
    <span class="nb">require</span> <span class="s1">'mail'</span>
    <span class="nb">require</span> <span class="s1">'sinatra'</span>

    <span class="n">get</span> <span class="s1">'/send'</span> <span class="k">do</span>
        <span class="n">generate_invoice</span>
        <span class="n">send_invoice_via_email</span>
        <span class="n">redirect</span> <span class="n">to</span><span class="p">(</span><span class="s1">'/thank-you'</span><span class="p">)</span>
    <span class="k">end</span>

    <span class="n">get</span> <span class="s1">'/thank-you'</span> <span class="k">do</span>
        <span class="s1">'Check your email! thanks for using PDFShift!'</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">generate_invoice</span>
        <span class="n">file</span> <span class="o">=</span> <span class="no">File</span><span class="p">.</span><span class="nf">read</span><span class="p">(</span><span class="s2">"invoice.html"</span><span class="p">)</span>
        <span class="n">uri</span> <span class="o">=</span> <span class="no">URI</span><span class="p">(</span><span class="s2">"https://api.pdfshift.io/v2/convert/"</span><span class="p">)</span>
        <span class="n">data</span> <span class="o">=</span> <span class="p">{</span><span class="s2">"source"</span> <span class="o">=&gt;</span> <span class="n">file</span><span class="p">}</span>

        <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="p">.</span><span class="nf">start</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">host</span><span class="p">,</span> <span class="n">uri</span><span class="p">.</span><span class="nf">port</span><span class="p">,</span> <span class="ss">:use_ssl</span> <span class="o">=&gt;</span> <span class="kp">true</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">http</span><span class="o">|</span>
            <span class="n">request</span> <span class="o">=</span> <span class="no">Net</span><span class="o">::</span><span class="no">HTTP</span><span class="o">::</span><span class="no">Post</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="n">uri</span><span class="p">.</span><span class="nf">request_uri</span><span class="p">)</span>
            <span class="n">request</span><span class="p">.</span><span class="nf">body</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="nf">to_json</span>
            <span class="n">request</span><span class="p">[</span><span class="s2">"Content-Type"</span><span class="p">]</span> <span class="o">=</span> <span class="s2">"application/json"</span>
            <span class="n">request</span><span class="p">.</span><span class="nf">basic_auth</span> <span class="s1">'your_api_key'</span><span class="p">,</span> <span class="s1">''</span>

            <span class="n">response</span> <span class="o">=</span> <span class="n">http</span><span class="p">.</span><span class="nf">request</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>

            <span class="k">if</span> <span class="n">response</span><span class="p">.</span><span class="nf">code</span> <span class="o">==</span> <span class="s1">'200'</span>
                <span class="no">File</span><span class="p">.</span><span class="nf">binwrite</span><span class="p">(</span><span class="s2">"result.pdf"</span><span class="p">,</span> <span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="p">)</span>
            <span class="k">else</span>
                <span class="nb">puts</span> <span class="s2">"</span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">code</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">response</span><span class="p">.</span><span class="nf">body</span><span class="si">}</span><span class="s2">"</span>
            <span class="k">end</span>
        <span class="k">end</span>
    <span class="k">end</span>

    <span class="k">def</span> <span class="nf">send_invoice_via_email</span>
        <span class="c1"># Update user_name and password with a valid gmail account</span>
        <span class="n">options</span> <span class="o">=</span> <span class="p">{</span> <span class="ss">:address</span>              <span class="o">=&gt;</span> <span class="s2">"smtp.gmail.com"</span><span class="p">,</span>
                    <span class="ss">:port</span>                 <span class="o">=&gt;</span> <span class="mi">587</span><span class="p">,</span>
                    <span class="ss">:domain</span>               <span class="o">=&gt;</span> <span class="s1">'pdfshift.io'</span><span class="p">,</span>
                    <span class="ss">:user_name</span>            <span class="o">=&gt;</span> <span class="s1">'example@gmail.com'</span><span class="p">,</span>
                    <span class="ss">:password</span>             <span class="o">=&gt;</span> <span class="s1">'examplepassword'</span><span class="p">,</span>
                    <span class="ss">:authentication</span>       <span class="o">=&gt;</span> <span class="s1">'plain'</span><span class="p">,</span>
                    <span class="ss">:enable_starttls_auto</span> <span class="o">=&gt;</span> <span class="kp">true</span> <span class="p">}</span>

        <span class="no">Mail</span><span class="p">.</span><span class="nf">defaults</span> <span class="k">do</span>
            <span class="n">delivery_method</span> <span class="ss">:smtp</span><span class="p">,</span> <span class="n">options</span>
        <span class="k">end</span>

        <span class="c1"># Update the email fields to your needs</span>
        <span class="no">Mail</span><span class="p">.</span><span class="nf">deliver</span> <span class="k">do</span>
            <span class="n">from</span>     <span class="s1">'pdfshift-user@pdfshift.io'</span>
            <span class="n">to</span>       <span class="s1">'recipient@domain.com'</span>
            <span class="n">subject</span>  <span class="s1">'Your invoice'</span>
            <span class="n">body</span>     <span class="s2">"Here's the invoice you requested"</span>
            <span class="n">add_file</span> <span class="s1">'result.pdf'</span>
        <span class="k">end</span>
    <span class="k">end</span>
    </code></pre>
                <pre class="highlight java tab-java" style="display: none;"><code><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">...</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="kt">byte</span><span class="o">[]</span> <span class="n">encoded</span> <span class="o">=</span> <span class="n">Files</span><span class="o">.</span><span class="na">readAllBytes</span><span class="o">(</span><span class="n">Paths</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"src/main/resources/example.html"</span><span class="o">));</span>
        <span class="n">String</span> <span class="n">documentContent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">encoded</span><span class="o">,</span> <span class="n">Charset</span><span class="o">.</span><span class="na">defaultCharset</span><span class="o">());</span>

        <span class="n">var</span> <span class="n">jsonObject</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
        <span class="n">jsonObject</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"source"</span><span class="o">,</span> <span class="n">documentContent</span><span class="o">);</span>

        <span class="n">var</span> <span class="n">httpRequest</span> <span class="o">=</span> <span class="n">HttpRequest</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">uri</span><span class="o">(</span><span class="n">URI</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="o">))</span>
                <span class="o">.</span><span class="na">timeout</span><span class="o">(</span><span class="n">Duration</span><span class="o">.</span><span class="na">ofSeconds</span><span class="o">(</span><span class="mi">10</span><span class="o">))</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Content-Type"</span><span class="o">,</span> <span class="s">"application/json"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">header</span><span class="o">(</span><span class="s">"Authentication"</span><span class="o">,</span> <span class="s">"Basic "</span> <span class="o">+</span> <span class="s">"your_api_key"</span><span class="o">)</span>
                <span class="o">.</span><span class="na">POST</span><span class="o">(</span><span class="n">HttpRequest</span><span class="o">.</span><span class="na">BodyPublishers</span><span class="o">.</span><span class="na">ofString</span><span class="o">(</span><span class="n">jsonObject</span><span class="o">.</span><span class="na">toString</span><span class="o">()))</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>

        <span class="n">var</span> <span class="n">httpClient</span> <span class="o">=</span> <span class="n">HttpClient</span><span class="o">.</span><span class="na">newBuilder</span><span class="o">()</span>
                <span class="o">.</span><span class="na">version</span><span class="o">(</span><span class="n">HttpClient</span><span class="o">.</span><span class="na">Version</span><span class="o">.</span><span class="na">HTTP_1_1</span><span class="o">)</span>
                <span class="o">.</span><span class="na">build</span><span class="o">();</span>
        <span class="n">var</span> <span class="n">response</span> <span class="o">=</span> <span class="n">httpClient</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">httpRequest</span><span class="o">,</span> <span class="n">HttpResponse</span><span class="o">.</span><span class="na">BodyHandlers</span><span class="o">.</span><span class="na">ofInputStream</span><span class="o">());</span>

        <span class="n">var</span> <span class="n">statusCode</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="na">statusCode</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">statusCode</span> <span class="o">==</span> <span class="mi">200</span> <span class="o">||</span> <span class="n">statusCode</span> <span class="o">==</span> <span class="mi">201</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// save pdf to file targetFile.pdf</span>
            <span class="n">var</span> <span class="n">targetFile</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"src/main/resources/targetFile.pdf"</span><span class="o">);</span>
            <span class="n">Files</span><span class="o">.</span><span class="na">copy</span><span class="o">(</span><span class="n">response</span><span class="o">.</span><span class="na">body</span><span class="o">(),</span> <span class="n">targetFile</span><span class="o">.</span><span class="na">toPath</span><span class="o">(),</span> <span class="n">StandardCopyOption</span><span class="o">.</span><span class="na">REPLACE_EXISTING</span><span class="o">);</span>

            <span class="c1">// Send pdf as email attachment</span>
            <span class="n">var</span> <span class="n">prop</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Properties</span><span class="o">();</span>
            <span class="n">prop</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"mail.smtp.auth"</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
            <span class="n">prop</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"mail.smtp.starttls.enable"</span><span class="o">,</span> <span class="s">"true"</span><span class="o">);</span>
            <span class="n">prop</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"mail.smtp.host"</span><span class="o">,</span> <span class="s">"smtp.mailtrap.io"</span><span class="o">);</span>
            <span class="n">prop</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"mail.smtp.port"</span><span class="o">,</span> <span class="s">"25"</span><span class="o">);</span>
            <span class="n">prop</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">"mail.smtp.ssl.trus"</span><span class="o">,</span> <span class="s">"smtp.mailtrap.io"</span><span class="o">);</span>

            <span class="n">var</span> <span class="n">username</span> <span class="o">=</span> <span class="s">"get username from mailtrap.io"</span><span class="o">;</span>
            <span class="n">var</span> <span class="n">password</span> <span class="o">=</span> <span class="s">"get password from mailtrap.io"</span><span class="o">;</span>

            <span class="n">var</span> <span class="n">session</span> <span class="o">=</span> <span class="n">Session</span><span class="o">.</span><span class="na">getInstance</span><span class="o">(</span><span class="n">prop</span><span class="o">,</span> <span class="k">new</span> <span class="n">Authenticator</span><span class="o">()</span> <span class="o">{</span>
                <span class="nd">@Override</span>
                <span class="kd">protected</span> <span class="n">PasswordAuthentication</span> <span class="nf">getPasswordAuthentication</span><span class="o">()</span> <span class="o">{</span>
                    <span class="k">return</span> <span class="k">new</span> <span class="nf">PasswordAuthentication</span><span class="o">(</span><span class="n">username</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>
                <span class="o">}</span>
            <span class="o">});</span>

            <span class="n">var</span> <span class="n">message</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MimeMessage</span><span class="o">(</span><span class="n">session</span><span class="o">);</span>
            <span class="n">message</span><span class="o">.</span><span class="na">setFrom</span><span class="o">(</span><span class="k">new</span> <span class="n">InternetAddress</span><span class="o">(</span><span class="s">"from@gmail.com"</span><span class="o">));</span>
            <span class="n">message</span><span class="o">.</span><span class="na">setRecipients</span><span class="o">(</span>
                    <span class="n">Message</span><span class="o">.</span><span class="na">RecipientType</span><span class="o">.</span><span class="na">TO</span><span class="o">,</span> <span class="n">InternetAddress</span><span class="o">.</span><span class="na">parse</span><span class="o">(</span><span class="s">"to@gmail.com"</span><span class="o">)</span>
            <span class="o">);</span>
            <span class="n">message</span><span class="o">.</span><span class="na">setSubject</span><span class="o">(</span><span class="s">"Mail Subject"</span><span class="o">);</span>

            <span class="n">var</span> <span class="n">attachment</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">"src/main/resources/targetFile.pdf"</span><span class="o">);</span>

            <span class="n">var</span> <span class="n">mimeBodyPart</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MimeBodyPart</span><span class="o">();</span>
            <span class="n">mimeBodyPart</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="s">"Just ignore this message"</span><span class="o">,</span> <span class="s">"text/plain"</span><span class="o">);</span>
            <span class="n">mimeBodyPart</span><span class="o">.</span><span class="na">attachFile</span><span class="o">(</span><span class="n">attachment</span><span class="o">);</span>

            <span class="n">var</span> <span class="n">multipart</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MimeMultipart</span><span class="o">();</span>
            <span class="n">multipart</span><span class="o">.</span><span class="na">addBodyPart</span><span class="o">(</span><span class="n">mimeBodyPart</span><span class="o">);</span>

            <span class="n">message</span><span class="o">.</span><span class="na">setContent</span><span class="o">(</span><span class="n">multipart</span><span class="o">);</span>

            <span class="n">Transport</span><span class="o">.</span><span class="na">send</span><span class="o">(</span><span class="n">message</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Error occured"</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
    </code></pre>
                <pre class="highlight csharp tab-csharp" style="display: none;"><code><span class="k">static</span> <span class="k">void</span> <span class="nf">Main</span><span class="p">(</span><span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">IRestClient</span> <span class="n">client</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestClient</span><span class="p">(</span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="p">);</span>
        <span class="n">client</span><span class="p">.</span><span class="n">Authenticator</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">HttpBasicAuthenticator</span><span class="p">(</span><span class="s">"your_api_key"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>

        <span class="n">IRestRequest</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">RestRequest</span><span class="p">(</span><span class="n">Method</span><span class="p">.</span><span class="n">POST</span><span class="p">);</span>
        <span class="kt">string</span> <span class="n">document_content</span> <span class="p">=</span> <span class="n">File</span><span class="p">.</span><span class="nf">ReadAllText</span><span class="p">(</span><span class="s">"invoice.html"</span><span class="p">);</span>
        <span class="kt">var</span> <span class="n">json</span> <span class="p">=</span> <span class="k">new</span>
        <span class="p">{</span>
            <span class="n">source</span> <span class="p">=</span> <span class="n">document_content</span><span class="p">,</span>
            <span class="n">sandbox</span> <span class="p">=</span> <span class="k">true</span><span class="p">,</span>
        <span class="p">};</span>
        <span class="n">request</span><span class="p">.</span><span class="nf">AddJsonBody</span><span class="p">(</span><span class="n">json</span><span class="p">);</span>
        <span class="n">IRestResponse</span> <span class="n">response</span> <span class="p">=</span> <span class="n">client</span><span class="p">.</span><span class="nf">Execute</span><span class="p">(</span><span class="n">request</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(!</span><span class="n">response</span><span class="p">.</span><span class="n">IsSuccessful</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="c1">// Check why status is not int 2xx.</span>
        <span class="p">}</span>

        <span class="n">SmtpClient</span> <span class="n">smtpClient</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">SmtpClient</span><span class="p">();</span>
        <span class="n">smtpClient</span><span class="p">.</span><span class="n">EnableSsl</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
        <span class="n">NetworkCredential</span> <span class="n">basicCredential</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">NetworkCredential</span><span class="p">(</span><span class="s">"YourMail"</span><span class="p">,</span> <span class="s">"YourPassword"</span><span class="p">);</span>
        <span class="n">MailMessage</span> <span class="n">message</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MailMessage</span><span class="p">();</span>
        <span class="n">MailAddress</span> <span class="n">fromAddress</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MailAddress</span><span class="p">(</span><span class="s">"billing@your-site.tld"</span><span class="p">);</span>

        <span class="c1">// setup up the host, increase the timeout to 5 minutes</span>
        <span class="n">smtpClient</span><span class="p">.</span><span class="n">Host</span> <span class="p">=</span> <span class="s">"smtp.gmail.com"</span><span class="p">;</span>
        <span class="n">smtpClient</span><span class="p">.</span><span class="n">UseDefaultCredentials</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="n">smtpClient</span><span class="p">.</span><span class="n">Credentials</span> <span class="p">=</span> <span class="n">basicCredential</span><span class="p">;</span>
        <span class="n">smtpClient</span><span class="p">.</span><span class="n">Timeout</span> <span class="p">=</span> <span class="p">(</span><span class="m">60</span> <span class="p">*</span> <span class="m">5</span> <span class="p">*</span> <span class="m">1000</span><span class="p">);</span>

        <span class="n">message</span><span class="p">.</span><span class="n">From</span> <span class="p">=</span> <span class="n">fromAddress</span><span class="p">;</span>
        <span class="n">message</span><span class="p">.</span><span class="n">Subject</span> <span class="p">=</span> <span class="s">"Thank you for your purchase"</span><span class="p">;</span>
        <span class="n">message</span><span class="p">.</span><span class="n">IsBodyHtml</span> <span class="p">=</span> <span class="k">false</span><span class="p">;</span>
        <span class="n">message</span><span class="p">.</span><span class="n">Body</span> <span class="p">=</span> <span class="n">File</span><span class="p">.</span><span class="nf">ReadAllText</span><span class="p">(</span><span class="s">"templates/emails/invoice.html"</span><span class="p">);</span>
        <span class="n">message</span><span class="p">.</span><span class="n">To</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"customer@gmail.com"</span><span class="p">);</span>

        <span class="n">Attachment</span> <span class="n">attachment</span><span class="p">;</span>
        <span class="k">using</span> <span class="p">(</span><span class="n">MemoryStream</span> <span class="n">stream</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">MemoryStream</span><span class="p">(</span><span class="n">response</span><span class="p">.</span><span class="n">RawBytes</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="n">attachment</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">Attachment</span><span class="p">(</span><span class="n">stream</span><span class="p">,</span> <span class="s">"invoice.pdf"</span><span class="p">);</span>
            <span class="n">message</span><span class="p">.</span><span class="n">Attachments</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">attachment</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">smtpClient</span><span class="p">.</span><span class="nf">Send</span><span class="p">(</span><span class="n">message</span><span class="p">);</span>
    <span class="p">}</span>
    </code></pre>
                <pre class="highlight go tab-go" style="display: none;"><code><span class="k">package</span><span class="x"> </span><span class="n">main</span><span class="x">

    </span><span class="k">import</span><span class="x"> </span><span class="p">(</span><span class="x">
        </span><span class="s">"bytes"</span><span class="x">
        </span><span class="s">"encoding/json"</span><span class="x">
        </span><span class="s">"io/ioutil"</span><span class="x">
        </span><span class="s">"log"</span><span class="x">
        </span><span class="s">"net/http"</span><span class="x">
        </span><span class="s">"net/mail"</span><span class="x">
        </span><span class="s">"net/smtp"</span><span class="x">

        </span><span class="s">"github.com/scorredoira/email"</span><span class="x">
    </span><span class="p">)</span><span class="x">

    </span><span class="k">func</span><span class="x"> </span><span class="n">main</span><span class="p">()</span><span class="x"> </span><span class="p">{</span><span class="x">
        </span><span class="n">API_KEY</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="s">"your_api_key"</span><span class="x">

        </span><span class="n">encoded</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadFile</span><span class="p">(</span><span class="s">"example.html"</span><span class="p">)</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="n">documentContent</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="kt">string</span><span class="p">(</span><span class="n">encoded</span><span class="p">)</span><span class="x">

        </span><span class="n">message</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}{</span><span class="x">
            </span><span class="s">"source"</span><span class="o">:</span><span class="x">  </span><span class="n">documentContent</span><span class="p">,</span><span class="x">
            </span><span class="s">"sandbox"</span><span class="o">:</span><span class="x"> </span><span class="no">true</span><span class="p">,</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="n">bytesRepresentation</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">json</span><span class="o">.</span><span class="n">Marshal</span><span class="p">(</span><span class="n">message</span><span class="p">)</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="n">client</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">Client</span><span class="p">{}</span><span class="x">
        </span><span class="n">request</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">http</span><span class="o">.</span><span class="n">NewRequest</span><span class="p">(</span><span class="s">"POST"</span><span class="p">,</span><span class="x"> </span><span class="s">"https://api.pdfshift.io/v2/convert"</span><span class="p">,</span><span class="x"> </span><span class="n">bytes</span><span class="o">.</span><span class="n">NewBuffer</span><span class="p">(</span><span class="n">bytesRepresentation</span><span class="p">))</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">
        </span><span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Content-Type"</span><span class="p">,</span><span class="x"> </span><span class="s">"application/json"</span><span class="p">)</span><span class="x">
        </span><span class="n">request</span><span class="o">.</span><span class="n">Header</span><span class="o">.</span><span class="n">Set</span><span class="p">(</span><span class="s">"Authorization"</span><span class="p">,</span><span class="x"> </span><span class="s">"Basic "</span><span class="x"> </span><span class="o">+</span><span class="x"> </span><span class="n">API_KEY</span><span class="p">)</span><span class="x">

        </span><span class="n">resp</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">client</span><span class="o">.</span><span class="n">Do</span><span class="p">(</span><span class="n">request</span><span class="p">)</span><span class="x">
        </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
        </span><span class="p">}</span><span class="x">

        </span><span class="k">if</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="x"> </span><span class="o">&gt;=</span><span class="x"> </span><span class="m">200</span><span class="x"> </span><span class="o">&amp;&amp;</span><span class="x"> </span><span class="n">resp</span><span class="o">.</span><span class="n">StatusCode</span><span class="x"> </span><span class="o">&lt;</span><span class="x"> </span><span class="m">300</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="n">body</span><span class="p">,</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">ioutil</span><span class="o">.</span><span class="n">ReadAll</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="x">
            </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
                </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
            </span><span class="p">}</span><span class="x">
                    </span><span class="c">// write the response to file</span><span class="x">
                    </span><span class="n">ioutil</span><span class="o">.</span><span class="n">WriteFile</span><span class="p">(</span><span class="s">"example.pdf"</span><span class="p">,</span><span class="x"> </span><span class="n">body</span><span class="p">,</span><span class="x"> </span><span class="m">0644</span><span class="p">)</span><span class="x">

            </span><span class="c">// Send email</span><span class="x">
                    </span><span class="n">m</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">email</span><span class="o">.</span><span class="n">NewMessage</span><span class="p">(</span><span class="s">"Hi"</span><span class="p">,</span><span class="x"> </span><span class="s">"This is an example converted file"</span><span class="p">)</span><span class="x">
                    </span><span class="n">m</span><span class="o">.</span><span class="n">From</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="n">mail</span><span class="o">.</span><span class="n">Address</span><span class="p">{</span><span class="n">Name</span><span class="o">:</span><span class="x"> </span><span class="s">"From"</span><span class="p">,</span><span class="x"> </span><span class="n">Address</span><span class="o">:</span><span class="x"> </span><span class="s">"from@example.com"</span><span class="p">}</span><span class="x">
                    </span><span class="n">m</span><span class="o">.</span><span class="n">To</span><span class="x"> </span><span class="o">=</span><span class="x"> </span><span class="p">[]</span><span class="kt">string</span><span class="p">{</span><span class="s">"to@example.com"</span><span class="p">}</span><span class="x">

                    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">m</span><span class="o">.</span><span class="n">Attach</span><span class="p">(</span><span class="s">"example.pdf"</span><span class="p">);</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
                        </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
                    </span><span class="p">}</span><span class="x">

                    </span><span class="n">auth</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">smtp</span><span class="o">.</span><span class="n">PlainAuth</span><span class="p">(</span><span class="s">""</span><span class="p">,</span><span class="x"> </span><span class="s">"c33e0593149230"</span><span class="p">,</span><span class="x"> </span><span class="s">"84d1dec05f668b"</span><span class="p">,</span><span class="x"> </span><span class="s">"smtp.mailtrap.io"</span><span class="p">)</span><span class="x">
                    </span><span class="k">if</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">:=</span><span class="x"> </span><span class="n">email</span><span class="o">.</span><span class="n">Send</span><span class="p">(</span><span class="s">"smtp.mailtrap.io:2525"</span><span class="p">,</span><span class="x"> </span><span class="n">auth</span><span class="p">,</span><span class="x"> </span><span class="n">m</span><span class="p">);</span><span class="x"> </span><span class="n">err</span><span class="x"> </span><span class="o">!=</span><span class="x"> </span><span class="no">nil</span><span class="x"> </span><span class="p">{</span><span class="x">
                        </span><span class="n">log</span><span class="o">.</span><span class="n">Fatalln</span><span class="p">(</span><span class="n">err</span><span class="p">)</span><span class="x">
                    </span><span class="p">}</span><span class="x">
        </span><span class="p">}</span><span class="x"> </span><span class="k">else</span><span class="x"> </span><span class="p">{</span><span class="x">
            </span><span class="c">// An error occurred</span><span class="x">
            </span><span class="k">var</span><span class="x"> </span><span class="n">result</span><span class="x"> </span><span class="k">map</span><span class="p">[</span><span class="kt">string</span><span class="p">]</span><span class="k">interface</span><span class="p">{}</span><span class="x">

            </span><span class="n">json</span><span class="o">.</span><span class="n">NewDecoder</span><span class="p">(</span><span class="n">resp</span><span class="o">.</span><span class="n">Body</span><span class="p">)</span><span class="o">.</span><span class="n">Decode</span><span class="p">(</span><span class="o">&amp;</span><span class="n">result</span><span class="p">)</span><span class="x">

            </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">result</span><span class="p">)</span><span class="x">
            </span><span class="n">log</span><span class="o">.</span><span class="n">Println</span><span class="p">(</span><span class="n">result</span><span class="p">[</span><span class="s">"data"</span><span class="p">])</span><span class="x">
        </span><span class="p">}</span><span class="x">
    </span><span class="p">}</span><span class="x">
    </span></code></pre>
                <blockquote>
                    <p>The above command returns a PDF in binary format.</p>
                </blockquote>

                <p>Here's a complete example of how PDFShift can be integrated in one of your project.</p>

                <p>A frequent use case is to use PDFShift to convert a locally generated invoice made in HTML (displayed in
                    the back-office of your customer), converted in PDF and then sent by email.</p>
                <h1 id="credits">Credits</h1>
                <h2 id="credits-status">Credits status</h2>
                <blockquote>
                    <p>Sending a GET request to the credits endpoint returns JSON structured like this:</p>
                </blockquote>
                <pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"total"</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"used"</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span><span class="w">
    </span><span class="s2">"remaining"</span><span class="p">:</span><span class="w"> </span><span class="mi">850</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span></code></pre>
                <p>Simply send a GET request toward <code>https://api.pdfshift.io/v2/credits/</code> to know in details your
                    credits usage for your account.</p>

                <p>Don't forget to set your API key as "Basic auth".</p>
                <h3 id="http-request">HTTP Request</h3>
                <p><code>GET https://api.pdfshift.io/v2/credits/</code></p>
                <h1 id="support">Support</h1>
                <p>If you need any help converting your HTML documents, feel free to reach out to our support team.</p>

                <p>We are available via <a href="mailto:support@pdfshift.io">support@pdfshift.io</a> and we will do our best
                    to help you convert your documents the way you want to.</p>

            </div>
            <div class="dark-box">
                <div class="lang-selector">
                    <a href="/#" data-language-name="javascript">javascript</a>
                    <a href="/#" data-language-name="python" class="active">python</a>
                    <a href="/#" data-language-name="php">php</a>
                    <a href="/#" data-language-name="ruby">ruby</a>
                    <a href="/#" data-language-name="java">java</a>
                    <a href="/#" data-language-name="csharp">csharp</a>
                    <a href="/#" data-language-name="go">go</a>
                </div>
            </div>
        </div>
    </body>

</html>